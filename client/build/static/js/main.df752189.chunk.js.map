{"version":3,"sources":["components/Chat/Chat.module.css","components/Console/Console.module.css","components/UI/Window.module.css","components/UI/RotaryCtrl.module.css","components/UI/NavBar.module.css","components/Chat/Webcam.module.css","services/AppContext.js","services/SocketContext.js","components/UI/NavBar.js","components/Console/Console.js","components/Chat/Chat.js","components/UI/DescriptiveTag.js","components/experiment/digilab4You/DL4Y_export1.js","components/experiment/MichelsonInterferometer/MI_1312.js","components/UI/VirtualLayer.js","components/UI/Window.js","components/UI/SliderCtrl.js","components/assembly/ID15.js","components/UI/RotaryCtrl.js","components/assembly/media/km100_outline.png","components/assembly/KM100.js","components/assembly/Stream.js","components/experiment/digilab4You/DigiLabs4YouDemo.js","components/UI/ExperimentUILayer.js","components/Chat/Webcam.js","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useAppContext","useContext","AppContextProvider","children","autoRotate","setAutoRotate","useState","showVirtualLayer","setShowVirtualLayer","showWebcam","setShowWebcam","selectedComps","setSelectedComps","Set","busyComps","setBusyComps","logs","setLogs","showTags","setShowTags","Provider","value","toggleAutoRotate","toggleShowVirtualLayer","toggleSelectedComp","compId","has","prev","filter","x","add","addLog","log","addBusyComp","removeBusyComp","toggleShowTags","toggleShowWebcam","Manager","require","URL","socket","autoConnect","SocketContext","useSocketContext","SocketContextProvider","connected","setConnected","appCtx","useEffect","on","e","payload","status","busy","componentId","toggleConnection","console","close","connect","NavBar","socketCtx","connectionStatusColor","autoRotateColor","showTagsColor","cameraStatusColor","id","className","styles","navbar","navMenu","onClick","size","color","Console","props","showConsole","setShowConsole","animation","setAnimation","consoleContainer","consoleMain","map","index","consoleHandler","closeConsole","openConsole","Chat","message","setMessage","showChat","setShowChat","chat","setChat","chatContainer","chatMain","userName","msgForm","onSubmit","event","preventDefault","emit","type","name","placeholder","onChange","target","required","chatHandler","closeChat","openChat","DescriptiveTag","Html","position","style","width","height","zIndexRange","float","title","description","Model","group","useRef","nodes","materials","useGLTF","ref","dispose","onPointerDown","stopPropagation","toggleSelect","geometry","SideMirrorMesh","material","selected","transparent","opacity","SideMirrorMesh_1","SideMirrorMesh_2","Mirror","PlaneMesh","WhiteParts","PlaneMesh_1","LaserMesh","LaserMesh_1","ID15Mesh","ID15Mesh_1","Base","preload","VirtualLayer","background","colorManagement","softShadows","camera","fov","fallback","Environment","preset","OrbitControls","Window","handle","window","top","left","windowHeader","display","cursor","header","windowHeaderIcon","onClose","windowContent","undefined","footer","windowFooter","SliderCtrl","sliderPos","setSliderPos","component","control","sliderCtrl","min","max","onMouseUp","userId","command","ID15","RotaryCtrl","rotation","setRotation","enteredRotation","setEnteredRotation","rotaryCtrl","controlId","steps","CtrlLeft","disabled","CtrlRight","KM100","setFooter","handleChangeFooter","newFooter","KM100_Background","rotationTop","newStatus","rotationBottom","Stream","data","uint8Arr","Uint8Array","buffer","binary","i","length","String","fromCharCode","base64String","btoa","img","Image","onload","document","getElementById","getContext","drawImage","this","src","DigiLabs4YouDemo","ExperimentUILayer","Peer","roomID","Video","peer","stream","current","srcObject","playsInline","autoPlay","Webcam","peers","setPeers","userVideo","peersRef","videoConstraints","innerHeight","innerWidth","navigator","mediaDevices","getUserMedia","video","audio","then","users","forEach","userID","userToSignal","callerID","initiator","trickle","signal","createPeer","push","peerID","incomingSignal","addPeer","find","p","webcamDiv","videoSt","muted","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.df752189.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatContainer\":\"Chat_chatContainer__3eNlL\",\"chatMain\":\"Chat_chatMain__1EhO3\",\"msgForm\":\"Chat_msgForm__1J8CX\",\"chatHandler\":\"Chat_chatHandler__1S65c\",\"openChat\":\"Chat_openChat__1bNOb\",\"closeChat\":\"Chat_closeChat__2wbog\",\"buttonBlink\":\"Chat_buttonBlink__1V3qq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"consoleContainer\":\"Console_consoleContainer__v3gZ3\",\"consoleMain\":\"Console_consoleMain__1Wodf\",\"consoleHandler\":\"Console_consoleHandler___oMZt\",\"openConsole\":\"Console_openConsole__HVHo-\",\"closeConsole\":\"Console_closeConsole__2MSYT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"window\":\"Window_window__3dW9o\",\"windowHeader\":\"Window_windowHeader__2Uk4U\",\"windowHeaderIcon\":\"Window_windowHeaderIcon__3Ej8i\",\"windowFooter\":\"Window_windowFooter__3dvXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rotaryCtrl\":\"RotaryCtrl_rotaryCtrl__2e7qy\",\"CtrlLeft\":\"RotaryCtrl_CtrlLeft__2o5vO\",\"CtrlRight\":\"RotaryCtrl_CtrlRight__3amMG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__2g02f\",\"navMenu\":\"NavBar_navMenu__tERFu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"webcamDiv\":\"Webcam_webcamDiv__1aq55\"};","import React, { useState, useContext } from \"react\";\r\n\r\nconst AppContext = React.createContext()\r\n\r\nexport function useAppContext() {\r\n  return useContext(AppContext);\r\n}\r\n\r\nexport function AppContextProvider({ children }) {\r\n  const [autoRotate, setAutoRotate] = useState(true);\r\n  const [showVirtualLayer, setShowVirtualLayer] = useState(true);\r\n  const [showWebcam, setShowWebcam] = useState(false);\r\n  const [selectedComps, setSelectedComps] = useState(new Set())\r\n  const [busyComps, setBusyComps] = useState(new Set())\r\n  const [logs, setLogs] = useState([])\r\n  const [showTags, setShowTags] = useState(true)\r\n\r\n  const toggleSelectedComp = compId => {\r\n    if (!selectedComps.has(compId)) {\r\n      setSelectedComps(prev => new Set(prev.add(compId)))\r\n    } else {\r\n      setSelectedComps(prev => new Set([...prev].filter(x => x !== compId)))\r\n    }\r\n  };\r\n\r\n  const addBusyComp = compId => {\r\n    if (!busyComps.has(compId)) {\r\n      setBusyComps(prev => new Set(prev.add(compId)))\r\n    }\r\n  };\r\n\r\n  const removeBusyComp = compId => {\r\n    if (busyComps.has(compId)) {\r\n      setBusyComps(prev => new Set([...prev].filter(x => x !== compId)))\r\n    }\r\n  };\r\n\r\n  const toggleAutoRotate = () => {\r\n    setAutoRotate(!autoRotate);\r\n  };\r\n\r\n  const toggleShowVirtualLayer = () => {\r\n    setShowVirtualLayer(!showVirtualLayer);\r\n  };\r\n  const toggleShowTags = () => {\r\n    setShowTags(!showTags)\r\n  }\r\n\r\n  const addLog = (log) => {\r\n    setLogs(prev => [log, ...prev])\r\n  };\r\n\r\n  const toggleShowWebcam = () => {\r\n    setShowWebcam(!showWebcam);\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        autoRotate,\r\n        toggleAutoRotate,\r\n        showVirtualLayer,\r\n        toggleShowVirtualLayer,\r\n        selectedComps,\r\n        toggleSelectedComp,\r\n        logs,\r\n        addLog,\r\n        busyComps,\r\n        addBusyComp,\r\n        removeBusyComp,\r\n        showTags,\r\n        toggleShowTags,\r\n        showWebcam,\r\n        toggleShowWebcam,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useAppContext } from \"./AppContext\";\r\n\r\nconst { Manager } = require(\"socket.io-client\")\r\n\r\n\r\nconst URL = \"http://localhost:7000\"   //192.168.4.1:7000   Raspberry Pi ID oder wlan 192.168.1.?\r\n\r\nconst manager = new Manager(URL, { autoConnect: false })\r\nconst socket = manager.socket(\"/\")\r\n\r\nconst SocketContext = React.createContext();\r\n\r\nexport function useSocketContext() {\r\n  return useContext(SocketContext);\r\n}\r\n\r\nexport function SocketContextProvider({ children }) {\r\n  const [connected, setConnected] = useState(false);\r\n\r\n  const appCtx = useAppContext()\r\n  \r\n  useEffect(() => {\r\n    socket.on('connect', (e) => {\r\n      setConnected(true)\r\n      appCtx.addLog(\"Server : Client connected to \" + URL)\r\n    })\r\n    socket.on('disconnect', (e) => {\r\n      setConnected(false)\r\n      appCtx.addLog(\"Server : Client disconnect.\")\r\n    })\r\n    socket.on('status', payload => {\r\n      if (payload.status.busy) { appCtx.addBusyComp(payload.componentId) } else {\r\n        appCtx.removeBusyComp(payload.componentId)\r\n      }\r\n    })\r\n  })\r\n\r\n  const toggleConnection = () => {\r\n    console.log(connected)\r\n    if (!connected) {\r\n      console.log(socket.connect());\r\n      setConnected(true)\r\n      appCtx.addLog(\"Client connected to \" + URL + \" by choice.\")\r\n    } else {\r\n      console.log(socket.close())\r\n      setConnected(false)\r\n      appCtx.addLog(\"Client disconnected by choice.\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SocketContext.Provider value={{ socket, connected, toggleConnection }}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n}\r\n","\r\nimport styles from \"./NavBar.module.css\"\r\nimport { GiLaserWarning } from \"react-icons/gi\"\r\nimport { ImConnection } from \"react-icons/im\"\r\nimport { BsBox } from \"react-icons/bs\"\r\nimport {FaTags} from \"react-icons/fa\"\r\nimport { MdOutlineScreenRotation } from \"react-icons/md\"\r\nimport { useSocketContext } from '../../services/SocketContext'\r\nimport { useAppContext } from '../../services/AppContext'\r\nimport { BsCamera } from 'react-icons/bs'\r\nconst NavBar = () => {\r\n\r\n    const appCtx = useAppContext();\r\n    const socketCtx = useSocketContext();\r\n\r\n\r\n    let connectionStatusColor = \"\"\r\n    if (socketCtx.connected) {connectionStatusColor=\"white\"}\r\n    let autoRotateColor = \"\"\r\n    if (appCtx.autoRotate) {autoRotateColor=\"white\"}\r\n    let showTagsColor = \"\"\r\n    if (appCtx.showTags) {showTagsColor = \"white\"}\r\n    let cameraStatusColor = \"\";\r\n    if (appCtx.showWebcam) { cameraStatusColor = \"white\" }\r\n\r\n    return <div id=\"navbar\" className={styles.navbar} >\r\n        <h1>XR Remote Lab</h1>\r\n        <div className={styles.navMenu}>\r\n            <ul>\r\n                <li onClick={socketCtx.toggleConnection}><ImConnection size={29}\r\n                    color={connectionStatusColor} /></li>\r\n                <li onClick={appCtx.toggleShowVirtualLayer}><BsBox size={26} /></li>\r\n                <li><GiLaserWarning size={29} /></li>\r\n\r\n                <li onClick={appCtx.toggleAutoRotate}><MdOutlineScreenRotation size={26} color={autoRotateColor}/></li>\r\n                <li onClick={appCtx.toggleShowTags}><FaTags size={25} color={showTagsColor} /></li>\r\n\r\n                <li onClick={appCtx.toggleShowWebcam}><BsCamera size={26}\r\n                    color={cameraStatusColor} /></li>\r\n\r\n            </ul>\r\n        </div>\r\n    </div>\r\n}\r\nexport default NavBar","import { useState} from \"react\"\r\n// import { socket } from \"../../services/SocketContext\"\r\nimport { RiTerminalBoxFill } from \"react-icons/ri\"\r\nimport styles from \"./Console.module.css\"\r\nimport { useAppContext } from \"../../services/AppContext\"\r\n\r\nconst Console = (props) => {\r\n   const [showConsole, setShowConsole] = useState(false)\r\n  const [animation, setAnimation] = useState(\"\")\r\n  const appCtx = useAppContext();\r\n\r\n  const showConsoleHandler = () => {\r\n    setAnimation(showConsole ? styles.closeConsole : styles.openConsole)\r\n    setShowConsole(!showConsole)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.consoleContainer + \" \" + animation}>\r\n      <div className={styles.consoleMain}>\r\n        {appCtx.logs.map((payload, index) => {\r\n          return (<span key={index}>:{payload}<br /></span>)\r\n        })}\r\n      </div>\r\n      <div className={styles.consoleHandler}><span>\r\n        <RiTerminalBoxFill size={35} onClick={showConsoleHandler} />\r\n      </span></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Console\r\n","import { useEffect, useState } from \"react\"\r\nimport styles from \"./Chat.module.css\"\r\nimport { ImBubble } from \"react-icons/im\"\r\nimport { MdSend } from \"react-icons/md\"\r\nimport { useSocketContext } from \"../../services/SocketContext\"\r\n\r\nconst Chat = (props) => {\r\n  const [message, setMessage] = useState(\"\")\r\n  const [showChat, setShowChat] = useState(false)\r\n  const [animation, setAnimation] = useState(\"\")\r\n  const [chat, setChat] = useState([])\r\n\r\n  const socketCtx = useSocketContext();\r\n\r\n\r\n  useEffect(() => {\r\n    socketCtx.socket.on(\"message\", (payload) => {\r\n      setChat([...chat, payload])\r\n    })\r\n   }, [socketCtx, chat])\r\n\r\n  const sendMessage = (event) => {\r\n    event.preventDefault()\r\n    console.log(message)\r\n    socketCtx.socket.emit(\"message\", { userName: \"user\", message })\r\n    setMessage(\"\")\r\n  }\r\n\r\n  const showChatHandler = () => {\r\n    setAnimation(showChat ? styles.closeChat : styles.openChat)\r\n    setShowChat(!showChat)\r\n  }\r\n\r\n\r\n  return (\r\n    <div\r\n      className={styles.chatContainer + \" \" + animation}\r\n    >\r\n      <div className={styles.chatMain}>\r\n        {chat.map((payload, index) => {\r\n          return (\r\n            <b key={index}>\r\n              {payload.userName}: <span>{payload.message}</span>\r\n              <br />\r\n            </b>\r\n          )\r\n        })}\r\n      </div>\r\n      <form className={styles.msgForm} onSubmit={sendMessage}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"message\"\r\n          placeholder=\"Type Message here\"\r\n          value={message}\r\n          onChange={(e) => {\r\n            setMessage(e.target.value)\r\n          }}\r\n          required\r\n        />\r\n        <button type=\"submit\"><MdSend size={25} /></button>\r\n      </form>\r\n      <div className={styles.chatHandler + \" \" + animation}>\r\n        <span>\r\n          <ImBubble size={35} onClick={showChatHandler} />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","import { Html } from \"@react-three/drei\";\r\n\r\nconst DescriptiveTag = (props) => {\r\n  const wrapperStyle = {\r\n    color: \"white\",\r\n    width: \"200px\",\r\n    height: \"30px\",\r\n  };\r\n  return <Html position={props.position} style={wrapperStyle} zIndexRange={[0, 10]} >\r\n\r\n    <div\r\n      style={{\r\n        height: \"150px\",\r\n        width: \"0px\",\r\n        \"border-left\": \"2px solid white\",\r\n        float: \"left\",\r\n      }}\r\n    ></div>\r\n    <div style={{ \"margin-left\": \"12px\" }}>\r\n      <span>\r\n        <b>{props.title}</b>\r\n      </span>\r\n      <br />\r\n      {props.description}\r\n      <br />\r\n      {props.status}\r\n    </div>\r\n  </Html>\r\n\r\n};\r\n\r\nexport default DescriptiveTag;\r\n","import React, { useRef } from 'react'\nimport { useGLTF } from '@react-three/drei'\nimport DescriptiveTag from \"../../UI/DescriptiveTag\"\n\nexport default function Model({ ...props }) {\n  const group = useRef()\n  const { nodes, materials } = useGLTF('/model/DL4Y_export1.glb')\n  return (\n    <group ref={group} {...props} dispose={null}>\n\n      {/* Mirror  */}\n      <group position={[-0.89, 0.67, 0.8]}\n        onPointerDown={(e) => {\n          e.stopPropagation();\n          props.toggleSelect(\"KM100_1\");\n        }}\n      >\n        {props.showTags && <DescriptiveTag position={[0, 1, 0]} title=\"Reference Mirror\" description=\"KM100 Double Rotary Control\" />}\n        <mesh geometry={nodes.SideMirrorMesh.geometry} material={nodes.SideMirrorMesh.material}>\n        {props.selected.has(\"KM100_1\") ? (\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\n          ) : (\n            <meshBasicMaterial color=\"#222222\" opacity={1.0} />\n          )}\n          </mesh>\n        <mesh geometry={nodes.SideMirrorMesh_1.geometry} material={nodes.SideMirrorMesh_1.material} />\n        <mesh geometry={nodes.SideMirrorMesh_2.geometry} material={materials.Mirror} />\n      </group>\n\n      {/* Screen */}\n      <group position={[-0.89, 0.86, -1.12]}\n        onPointerDown={(e) => {\n          e.stopPropagation();\n          props.toggleSelect(\"screen\");\n        }}\n      >\n        {props.showTags && <DescriptiveTag position={[0, 1.4, 0]} title=\"Screen\" description=\"\" />}\n        <mesh geometry={nodes.PlaneMesh.geometry} material={materials.WhiteParts}>\n        {props.selected.has(\"screen\") ? (\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\n          ) : (\n            <meshBasicMaterial color=\"#eeeeee\" opacity={1.0} />\n          )}\n          </mesh>\n        <mesh geometry={nodes.PlaneMesh_1.geometry} material={nodes.PlaneMesh_1.material} />\n      </group>\n\n      {/* Laser */}\n      <group position={[1.25, 0.67, 0.88]}\n        onPointerDown={(e) => {\n          e.stopPropagation();\n          props.toggleSelect(\"Laser\");\n        }}      \n      >\n        {props.showTags && <DescriptiveTag position={[0, 1, 0]} title=\"Laser\" description=\"green Laserpointer\" />}\n        <mesh geometry={nodes.LaserMesh.geometry}  material={nodes.LaserMesh.material} >\n        {props.selected.has(\"Laser\") ? (\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\n          ) : (\n            <meshBasicMaterial color=\"#222222\" opacity={1.0} />\n          )}\n          </mesh>\n        <mesh geometry={nodes.LaserMesh_1.geometry} material={nodes.LaserMesh_1.material} />\n      </group>\n\n      {/* Iris */}\n      <group position={[-0.92, 0.49, -0.14]}\n         onPointerDown={(e) => {\n          e.stopPropagation();\n          props.toggleSelect(\"iris\");\n        }}      \n      >\n        {props.showTags && <DescriptiveTag position={[0, 1.4, 0]} title=\"Iris\" description=\"Controllable 15mm Iris Diaphragm\" />}\n        <mesh geometry={nodes.ID15Mesh.geometry} material={nodes.ID15Mesh.material}>\n        {props.selected.has(\"iris\") ? (\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\n          ) : (\n            <meshBasicMaterial color=\"#222222\" opacity={1.0} />\n          )}\n          </mesh>\n        <mesh geometry={nodes.ID15Mesh_1.geometry} material={nodes.ID15Mesh_1.material} />\n      </group>\n\n      {/* Baseplate */}\n      <mesh geometry={nodes.Base.geometry} material={nodes.Base.material} />\n      \n    </group>\n\n        \n  )\n}\n\nuseGLTF.preload('/model/DL4Y_export1.glb')\n","import React, { useRef } from \"react\";\r\nimport { useGLTF, Html } from \"@react-three/drei\";\r\nimport { Box } from \"@react-three/drei\";\r\nimport DescriptiveTag from \"../../UI/DescriptiveTag\"\r\n\r\nexport default function Model({ ...props }) {\r\n  const group = useRef();\r\n  const { nodes, materials } = useGLTF(\"/model/MI_1312.glb\");\r\n\r\n  return (\r\n    <group ref={group} {...props} dispose={null}>\r\n      <Box\r\n        position={[-0.65, 0.66, 0.15]}\r\n        args={[1, 1, 1]}\r\n        scale={[0.25, 0.25, 0.25]}\r\n      >\r\n        <meshPhysicalMaterial\r\n          thickness={1}\r\n          roughness={0.1}\r\n          transmission={1}\r\n          clearcoat={0.5}\r\n          clearcoatRoughness={0}\r\n          ior={1.1}\r\n          envMapIntensity={25}\r\n          color={\"#ffffff\"}\r\n          attenuationColor={\"#00ffff\"}\r\n          attenuationDistance={5}\r\n        />\r\n      </Box>\r\n      <group\r\n        position={[-0.64, 0.67, 1.06]}\r\n        rotation={[Math.PI, 0, Math.PI]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"KM100_1\");\r\n        }}\r\n      >\r\n\r\n        {props.showTags && <DescriptiveTag position={[0, 1, 0]} title=\"Reference Mirror\" description=\"KM100 Double Rotary Control\" />}\r\n        <mesh\r\n          geometry={nodes.SideMirrorMesh.geometry}\r\n          material={nodes.SideMirrorMesh.material}\r\n        >\r\n          {props.selected.has(\"KM100_1\") ? (\r\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n          ) : (\r\n            <meshBasicMaterial color=\"#222222\" opacity={1.0} />\r\n          )}\r\n        </mesh>\r\n        <mesh\r\n          geometry={nodes.SideMirrorMesh_1.geometry}\r\n          material={nodes.SideMirrorMesh_1.material}\r\n        />\r\n        <mesh\r\n          geometry={nodes.SideMirrorMesh_2.geometry}\r\n          material={nodes.SideMirrorMesh_2.material}\r\n        />\r\n      </group>\r\n      <group\r\n        position={[-1.96, 0.67, 0.13]}\r\n        rotation={[0, Math.PI / 2, 0]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"SM1ZP_1\");\r\n        }}\r\n      >\r\n        {props.showTags && <DescriptiveTag position={[0, 1, 0]} title=\"Translate Mirror\" description=\"KM100 Single Rotary Control\" />}\r\n\r\n        <mesh\r\n          geometry={nodes.TranslateMirrorMesh.geometry}\r\n          material={nodes.TranslateMirrorMesh.material}\r\n        >\r\n          {props.selected.has(\"SM1ZP_1\") ? (\r\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n          ) : (\r\n            <meshBasicMaterial color=\"#222222\" opacity={1.0} />\r\n          )}\r\n        </mesh>\r\n        <mesh\r\n          geometry={nodes.TranslateMirrorMesh_1.geometry}\r\n          material={nodes.TranslateMirrorMesh_1.material}\r\n        />\r\n        <mesh\r\n          geometry={nodes.TranslateMirrorMesh_2.geometry}\r\n          material={nodes.TranslateMirrorMesh_2.material}\r\n        />\r\n      </group>\r\n      <group\r\n        position={[-0.62, 0.86, -1.22]}\r\n        onPointerDown={(e) => {\r\n          e.stopPropagation();\r\n          props.toggleSelect(\"EDU-VS1_1\");\r\n        }}\r\n      >\r\n        {props.showTags && <DescriptiveTag position={[0, 1, 0]} title=\"Screen\" />}\r\n\r\n        <mesh\r\n          geometry={nodes.PlaneMesh.geometry}\r\n          material={materials.WhiteParts}\r\n        >\r\n          {props.selected.has(\"EDU-VS1_1\") ? (\r\n            <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n          ) : (\r\n            <meshBasicMaterial color=\"#eeeeee\" opacity={1.0} />\r\n          )}\r\n        </mesh>\r\n        <mesh\r\n          geometry={nodes.PlaneMesh_1.geometry}\r\n          material={nodes.PlaneMesh_1.material}\r\n        />\r\n      </group>\r\n      <group position={[-0.64, 0.67, 0.14]}>\r\n        <mesh\r\n          geometry={nodes.BaseMesh.geometry}\r\n          material={nodes.BaseMesh.material}\r\n        />\r\n        <mesh\r\n          geometry={nodes.BaseMesh_1.geometry}\r\n          material={nodes.BaseMesh_1.material}\r\n        />\r\n      </group>\r\n      <group\r\n        position={[1.56, 0.67, 0.14]}\r\n        rotation={[Math.PI / 2, 0, -Math.PI / 2]}\r\n        onPointerDown={(e) => {\r\n          console.log(\"Clicked on laser\")\r\n          e.stopPropagation()\r\n          props.toggleSelect(\"KM100_2\")\r\n        }}\r\n      >\r\n        {props.showTags && <DescriptiveTag position={[0, 0, -1]} title=\"Laser Alignment\" />}\r\n\r\n        <mesh\r\n          geometry={nodes.LaserMesh.geometry}\r\n          material={nodes.LaserMesh.material}\r\n        >{props.selected.has(\"KM100_2\") ? (\r\n          <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n        ) : (\r\n          <meshBasicMaterial color=\"#222222\" opacity={1.0} />\r\n        )}</mesh>\r\n        <mesh\r\n          geometry={nodes.LaserMesh_1.geometry}\r\n          material={nodes.LaserMesh_1.material}\r\n        />\r\n      </group>\r\n      <mesh\r\n        geometry={nodes.SD5.geometry}\r\n        material={nodes.SD5.material}\r\n        position={[1.61, 0.25, -0.9]}\r\n        onPointerDown={(e) => {\r\n          console.log(\"Clicked on LaserPower\")\r\n          e.stopPropagation()\r\n          props.toggleSelect(\"LaserPower\")\r\n        }}\r\n      >\r\n        {props.selected.has(\"LaserPower\") ? (\r\n          <meshStandardMaterial color=\"#00ff00\" transparent opacity={0.7} />\r\n        ) : (\r\n          <meshBasicMaterial color=\"#222222\" opacity={1.0} />\r\n        )}\r\n      </mesh>\r\n    </group>\r\n  );\r\n}\r\n\r\nuseGLTF.preload(\"/model/MI_1312.glb\");\r\n","import { Suspense } from \"react\";\r\nimport { Canvas } from \"@react-three/fiber\";\r\nimport { OrbitControls, Environment, Stats } from \"@react-three/drei\";\r\nimport MI_1312 from \"../experiment/MichelsonInterferometer/MI_1312\";\r\nimport DigiLab4You from \"../experiment/digilab4You/DL4Y_export1\";\r\nimport { useAppContext } from \"../../services/AppContext\";\r\n\r\nconst VirtualLayer = () => {\r\n  const appCtx = useAppContext();\r\n\r\n  if (appCtx.showVirtualLayer) {\r\n    return (\r\n      <Canvas\r\n        style={{\r\n          position: \"absolute\",\r\n          background: \"linear-gradient(Teal, Black)\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n        }}\r\n        colorManagement\r\n        softShadows\r\n        camera={{ position: [0, 3, 5], fov: 40 }}\r\n      >\r\n        <Suspense fallback={null}>\r\n          {/* <Stats showPanel={0}  /> */}\r\n          <Environment preset=\"warehouse\" />\r\n          <OrbitControls autoRotate={appCtx.autoRotate} />\r\n          <DigiLab4You\r\n            toggleSelect={appCtx.toggleSelectedComp}\r\n            selected={appCtx.selectedComps}\r\n            showTags={appCtx.showTags}\r\n          />\r\n        </Suspense>\r\n      </Canvas>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n\r\nexport default VirtualLayer;\r\n","import Draggable from \"react-draggable\"\r\nimport styles from \"./Window.module.css\"\r\nimport {CgCloseO} from \"react-icons/cg\"\r\n\r\nconst Window = (props) => {\r\n\r\n   return (\r\n    <Draggable handle=\".draggableHandler\">\r\n      <div\r\n        className={styles.window}\r\n        style={{ top: props.top + \"px\", left: props.left + \"px\" }}\r\n      >\r\n        <div className={styles.windowHeader}>\r\n          <span\r\n            className=\"draggableHandler\" //FIXME draggable doesnt seem to work with inline JSX classes. \r\n            style={{\r\n              display: 'block',\r\n              width: \"calc(100% - 50px)\",\r\n              cursor: \"move\",\r\n              float: \"left\"\r\n            }}\r\n          >\r\n            {props.header}\r\n          </span>\r\n          <div className={styles.windowHeaderIcon} onClick={props.onClose}><CgCloseO size={20}/></div>\r\n        </div>\r\n        <div\r\n          className={styles.windowContent}\r\n          style={{\r\n            height: props.height,\r\n            width: props.width,\r\n            background: \"url(\" + props.background + \")\",\r\n          }}\r\n        >\r\n          {props.children}\r\n        </div>\r\n        {props.footer !== undefined && (\r\n          <div className={styles.windowFooter}>{props.footer}</div>\r\n        )}\r\n      </div>\r\n    </Draggable>\r\n  )\r\n}\r\n\r\nexport default Window\r\n","import { useState, useEffect } from \"react\";\r\nimport styles from \"./SliderCtrl.module.css\"\r\nimport { useAppContext } from \"../../services/AppContext\";\r\nimport { useSocketContext } from \"../../services/SocketContext\";\r\n\r\nconst SliderCtrl = (props) => {\r\n  const [sliderPos, setSliderPos] = useState(props.sliderPos);\r\n\r\n  const appCtx = useAppContext();\r\n  const socketCtx = useSocketContext();\r\n\r\n  useEffect(() => {\r\n    socketCtx.socket.on(\"status\", payload => {\r\n      if (payload.component === props.component) {\r\n        setSliderPos(payload.status[props.control]);\r\n      }\r\n    })\r\n  }, [socketCtx.socket])\r\n\r\n  const sliderHandler = (event) => {\r\n    event.preventDefault();\r\n    setSliderPos(event.target.value);\r\n  }\r\n\r\n  const sliderCtrl = (event) => {\r\n    event.preventDefault();\r\n    setSliderPos(event.target.value);\r\n    console.log(\"Sending Command \"+event.target.value);\r\n    socketCtx.socket.emit(\"command\", {\r\n      userId: \"user123\",\r\n      componentId: props.component,\r\n      command: {\r\n        position: sliderPos\r\n      }\r\n    })\r\n    appCtx.addLog(\"User set position on \"+props.component+\" to \"+sliderPos)\r\n  }\r\n\r\n  return(\r\n    <form className={styles.sliderCtrl} style={{top: props.top+\"px\", left: props.left+\"px\"}}>\r\n      <div className={styles.sliderCtrl}>\r\n      <span>{sliderPos}</span>\r\n        <input type=\"range\" min=\"0\" max=\"100\" value={sliderPos} className={styles.sliderCtrl} onChange={sliderHandler} onMouseUp={sliderCtrl} />\r\n      </div>\r\n    </form>\r\n  )\r\n\r\n}\r\n\r\nexport default SliderCtrl;","import { useState } from \"react\";\r\nimport Window from \"../UI/Window\";\r\n\r\nimport { useAppContext } from \"../../services/AppContext\";\r\nimport SliderCtrl from \"../UI/SliderCtrl\";\r\n\r\nconst ID15 = (props) => {\r\n  const appCtx = useAppContext();\r\n\r\n  const handleCloseWindow = () => {\r\n    appCtx.toggleSelectedComp(props.id)\r\n  }\r\n\r\n  return (\r\n    <Window\r\n      header={props.title + \" (\"+props.id+\")\"}\r\n      top={props.top}\r\n      left={props.left}\r\n      height=\"240px\"\r\n      width=\"250px\"\r\n      onClose={handleCloseWindow}\r\n    >\r\n      <SliderCtrl\r\n        sliderPos={props.sliderPos}\r\n        component={props.id}\r\n        top=\"50\"\r\n        left=\"50\"\r\n      />\r\n    </Window>\r\n  )\r\n}\r\n\r\nexport default ID15;","import { useState, useEffect } from \"react\";\r\nimport styles from \"./RotaryCtrl.module.css\";\r\nimport { MdOutlineRotateRight, MdOutlineRotateLeft } from \"react-icons/md\";\r\nimport { useAppContext } from \"../../services/AppContext\";\r\nimport { useSocketContext } from \"../../services/SocketContext\"\r\n\r\nconst RotaryCtrl = (props) => {\r\n  const [rotation, setRotation] = useState(props.rotation);\r\n  const [enteredRotation, setEnteredRotation] = useState(0);\r\n\r\n  const appCtx = useAppContext()\r\n  const socketCtx = useSocketContext()\r\n\r\n  useEffect(() => {\r\n\r\n    /* STATUS UPDATE HANDLIN */\r\n    socketCtx.socket.on(\"status\", payload => {\r\n      if (payload.componentId === props.component) {\r\n        setRotation(payload.status[props.control]);\r\n      }\r\n    }); //TODO: Update Footer of UI Window with Status\r\n  }, [socketCtx.socket]);\r\n\r\n  const changeRotationHandler = (event) => {\r\n    setEnteredRotation(event.target.value);\r\n  };\r\n\r\n  //TODO: Combine Rotation Handliner into one.\r\n\r\n  const rotCW_Handler = (event) => {\r\n    event.preventDefault();\r\n    socketCtx.socket.emit(\"command\", {\r\n      userId: \"user123\",\r\n      componentId: props.component,\r\n      controlId: props.control,\r\n      command: {\r\n        steps: enteredRotation\r\n      }\r\n\r\n    })\r\n    appCtx.addLog(\"User initiated CW rotation on \" + props.component + \" / \" + props.control + \" by \" + enteredRotation + \" steps.\")\r\n  };\r\n\r\n  const rotCCW_Handler = (event) => {\r\n    event.preventDefault();\r\n    socketCtx.socket.emit(\"command\", {\r\n      userId: \"user123\",\r\n      componentId: props.component,\r\n      controlId: props.control,\r\n      command: {\r\n        steps: -1 * enteredRotation\r\n      }\r\n\r\n    })\r\n    appCtx.addLog(\"User initiated CCW rotation on \" + props.component + \" / \" + props.control + \" by \" + enteredRotation + \" steps.\")\r\n  };\r\n\r\n  return (\r\n    <form className={styles.rotaryCtrl} style={{ top: props.top + \"px\", left: props.left + \"px\" }}>\r\n      <div className={styles.rotaryCtrl}>\r\n        <span>{rotation}</span>\r\n        <input\r\n          type=\"number\"\r\n          min=\"0\"\r\n          max=\"100\"\r\n          value={enteredRotation}\r\n          onChange={changeRotationHandler}\r\n        />\r\n      </div>\r\n      <button onClick={rotCCW_Handler} className={styles.CtrlLeft} disabled={appCtx.busyComps.has(props.component)} >\r\n        <MdOutlineRotateLeft size={28} />\r\n      </button>\r\n      <button onClick={rotCW_Handler} className={styles.CtrlRight} disabled={appCtx.busyComps.has(props.component)}>\r\n        <MdOutlineRotateRight size={28} />\r\n      </button>\r\n\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default RotaryCtrl;\r\n","export default __webpack_public_path__ + \"static/media/km100_outline.5cffd463.png\";","import { useState } from \"react\";\r\nimport RotaryCtrl from \"../UI/RotaryCtrl\";\r\nimport Window from \"../UI/Window\";\r\nimport KM100_Background from \"./media/km100_outline.png\"\r\n\r\nimport { useAppContext } from \"../../services/AppContext\";\r\n\r\nconst KM100 = (props) => {\r\n  const [footer, setFooter] = useState(props.footer);\r\n  const appCtx = useAppContext()\r\n\r\n  const handleCloseWindow = () => {\r\n    appCtx.toggleSelectedComp(props.id)\r\n  }\r\n\r\n  const handleChangeFooter = (newFooter) => {\r\n    setFooter(newFooter);\r\n  };\r\n\r\n  return (\r\n    <Window\r\n      header={props.title + \" (\" + props.id + \")\"}\r\n      footer={footer}\r\n      top={props.top}\r\n      left={props.left}\r\n      height=\"240px\"\r\n      width=\"250px\"\r\n      background={KM100_Background}\r\n      onClose={handleCloseWindow}\r\n    >\r\n      <RotaryCtrl\r\n        rotation={props.rotationTop}\r\n        component={props.id}\r\n        control=\"top\"\r\n        newStatus={handleChangeFooter}\r\n        top=\"20\"\r\n        left=\"160\"\r\n      />\r\n      <RotaryCtrl\r\n        rotation={props.rotationBottom}\r\n        component={props.id}\r\n        control=\"bottom\"\r\n        newStatus={handleChangeFooter}\r\n        top=\"50\"\r\n        left=\"160\"\r\n      />\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default KM100;\r\n","import Window from \"../UI/Window\";\r\nimport { useAppContext } from \"../../services/AppContext\";\r\nimport { useSocketContext } from \"../../services/SocketContext\"\r\nimport { useEffect } from \"react\";\r\n\r\nconst Stream = (props) => {\r\n  const socketCtx = useSocketContext();\r\n  const appCtx = useAppContext()\r\n\r\n  const handleCloseWindow = () => {\r\n    appCtx.toggleSelectedComp(props.id)\r\n  }\r\n\r\n  useEffect(() => {\r\n    socketCtx.socket.on('pic', function (data) {\r\n      var uint8Arr = new Uint8Array(data.buffer);\r\n      var binary = '';\r\n      for (var i = 0; i < uint8Arr.length; i++) {\r\n        binary += String.fromCharCode(uint8Arr[i]);\r\n      }\r\n      var base64String = window.btoa(binary);\r\n\r\n      var img = new Image();\r\n      img.onload = function () {\r\n        var canvas = document.getElementById('ScreenCanvas');\r\n        var ctx = canvas.getContext('2d');\r\n        var x = 0, y = 0;\r\n        ctx.drawImage(this, x, y);\r\n      }\r\n      img.src = 'data:image/jpg;base64,' + base64String;\r\n    });\r\n  }, [socketCtx.socket])\r\n\r\n  return (\r\n    <Window\r\n      header={props.title + \" (\" + props.id + \")\"}\r\n      top={props.top}\r\n      left={props.left}\r\n      width=\"800px\"\r\n      height=\"600px\"\r\n      onClose={handleCloseWindow}\r\n    >\r\n      <canvas id='ScreenCanvas' width=\"800px\" height=\"600px\" />\r\n    </Window>\r\n  );\r\n};\r\n\r\nexport default Stream;","import ID15 from \"../../assembly/ID15\";\r\nimport KM100 from \"../../assembly/KM100\"\r\nimport Stream from \"../../assembly/Stream\";\r\n\r\nconst DigiLabs4YouDemo = (props) => {\r\n  return (\r\n    <div>\r\n      {props.selected.has(\"KM100_1\") &&(\r\n        <KM100\r\n          title=\"Mirror\"\r\n          id=\"KM100_1\"\r\n          rotationTop=\"0\"\r\n          rotationBottom=\"0\"\r\n          footer=\"Initializing...\"\r\n          top=\"100\"\r\n          left=\"100\"\r\n          />\r\n      )}\r\n      {props.selected.has(\"iris\") && (\r\n        <ID15\r\n          title=\"Iris\"\r\n          id=\"iris\"\r\n          sliderPos=\"0\"\r\n          top=\"150\"\r\n          left=\"150\"\r\n        />\r\n      )}\r\n      {props.selected.has(\"screen\") && (\r\n        <Stream\r\n          title=\"Camera\"\r\n          id=\"screen\"\r\n          top=\"100\"\r\n          left=\"100\"\r\n        />\r\n      )}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DigiLabs4YouDemo;","\r\nimport { MdSettingsApplications } from \"react-icons/md\";\r\nimport { useAppContext } from \"../../services/AppContext\";\r\n//import MichelsonInterferometer from \"../experiment/MichelsonInterferometer/MichelsonInterferometer\";\r\nimport DigiLabs4YouDemo from \"../experiment/digilab4You/DigiLabs4YouDemo\";\r\n\r\nconst ExperimentUILayer = () => {\r\n\r\n  const appCtx = useAppContext();\r\n\r\n  return (\r\n    <DigiLabs4YouDemo\r\n      toggleSelect={appCtx.toggleSelectedComp}\r\n      selected={appCtx.selectedComps}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ExperimentUILayer;\r\n","import { useSocketContext } from '../../services/SocketContext'\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\nimport { useAppContext } from \"../../services/AppContext\";\r\nimport styles  from \"./Webcam.module.css\";\r\nvar Peer = require('simple-peer');\r\nvar roomID = '';\r\n\r\nconst Video = (props) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        props.peer.on(\"stream\", stream => {\r\n            ref.current.srcObject = stream;\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n        <video  playsInline autoPlay ref={ref} />\r\n    );\r\n}\r\n\r\nconst Webcam = () => {\r\n    const socketCtx = useSocketContext();\r\n    const appCtx = useAppContext();\r\n    const [peers, setPeers] = useState([]);\r\n    const userVideo = useRef();\r\n    const peersRef = useRef([]);\r\n\r\n    \r\n    useEffect(() => {\r\n        const videoConstraints = {\r\n            height: window.innerHeight / 2,\r\n            width: window.innerWidth / 2\r\n        };\r\n        if (appCtx.showWebcam) {\r\n            navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\r\n                userVideo.current.srcObject = stream;\r\n                socketCtx.socket.emit('roomID', (data) => { //Transmission of the roomID\r\n                    roomID = data;\r\n                });\r\n\r\n                socketCtx.socket.emit('client join room', (roomID)); // new client will be added to the userList\r\n\r\n                socketCtx.socket.on('all users', users => {\r\n                    const peers = [];\r\n                    users.forEach(userID => {\r\n                        const peer = createPeer(userID, socketCtx.socket.id, stream);       // creates a peer for each client that is already in the room\r\n                        peersRef.current.push({\r\n                            peerID: userID,\r\n                            peer,\r\n                        })\r\n                        peers.push(peer);\r\n                    })\r\n                    setPeers(peers);\r\n                })\r\n\r\n                socketCtx.socket.on(\"user joined\", payload => {\r\n                    const peer = addPeer(payload.signal, payload.callerID, stream); //creates a new peer & adds it to the list for a freshly joining client\r\n                    peersRef.current.push({\r\n                        peerID: payload.callerID,\r\n                        peer,\r\n                    })\r\n\r\n                    setPeers(users => [...users, peer]);\r\n                });\r\n\r\n                socketCtx.socket.on(\"receiving returned signal\", payload => {\r\n                    const item = peersRef.current.find(p => p.peerID === payload.id);\r\n                    item.peer.signal(payload.signal);\r\n                });\r\n            })\r\n        }\r\n        function createPeer(userToSignal, callerID, stream) {       //Erstellen von peer für alle bisher Clienten die sich bisher im Raum schon befinden\r\n            const peer = new Peer({\r\n                initiator: true,        //wichtig, damit Stream in die gesendet werden kann\r\n                trickle: false,\r\n                stream,     //eigener Stream\r\n            });\r\n    \r\n            peer.on(\"signal\", signal => {       \r\n                socketCtx.socket.emit(\"sending signal\", ({ userToSignal, callerID, signal }));\r\n            })\r\n            return peer;\r\n        }\r\n    \r\n        function addPeer(incomingSignal, callerID, stream) {        //creates peers for all following joining clients\r\n            const peer = new Peer({\r\n                initiator: false,\r\n                trickle: false,\r\n                stream,\r\n            });\r\n    \r\n            peer.on(\"signal\", signal => {\r\n                socketCtx.socket.emit(\"returning signal\", { signal, callerID });\r\n            });\r\n            peer.signal(incomingSignal);\r\n            return peer;\r\n        }\r\n    }, [appCtx.showWebcam])\r\n\r\n    if (appCtx.showWebcam) {\r\n        return (\r\n            <div className={styles.webcamDiv}>\r\n                <video className={styles.videoSt} muted ref={userVideo} autoPlay playsInline />\r\n                {peers.map((peer, index) => {           //wenn man diese Schleife weglässt, dann wird nur der eigene Stream dargestellt\r\n                    return (\r\n                        <Video key={index} peer={peer} />\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n    else {\r\n        return <></>;\r\n    }\r\n};\r\n\r\nexport default Webcam;","import NavBar from \"./components/UI/NavBar\";\r\nimport Console from \"./components/Console/Console\";\r\nimport Chat from \"./components/Chat/Chat\";\r\nimport VirtualLayer from \"./components/UI/VirtualLayer\";\r\nimport { SocketContextProvider } from \"./services/SocketContext\";\r\nimport { AppContextProvider } from \"./services/AppContext\";\r\nimport ExperimentUILayer from \"./components/UI/ExperimentUILayer\";\r\nimport Cam from \"./components/Chat/Webcam\";\r\n\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n    <AppContextProvider>\r\n      <SocketContextProvider>\r\n         <VirtualLayer />\r\n        <ExperimentUILayer /> \r\n        <Chat />\r\n        <Cam />\r\n        <Console />\r\n        <NavBar />\r\n      </SocketContextProvider>\r\n    </AppContextProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\"\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}
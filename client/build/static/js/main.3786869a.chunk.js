(this["webpackJsonpxrtl-spa"]=this["webpackJsonpxrtl-spa"]||[]).push([[0],{100:function(e,t,n){e.exports={consoleContainer:"Console_consoleContainer__1dDWk",consoleMain:"Console_consoleMain__SxxQK",consoleHandler:"Console_consoleHandler__2f7jk",openConsole:"Console_openConsole__1E2CK",closeConsole:"Console_closeConsole__1Gp8h"}},102:function(e,t,n){e.exports={window:"Window_window__eoZ4W",windowHeader:"Window_windowHeader__2vHd6",windowFooter:"Window_windowFooter__3xtgO"}},119:function(e,t,n){e.exports={rotaryCtrl:"RotaryCtrl_rotaryCtrl__1dFJs",CtrlLeft:"RotaryCtrl_CtrlLeft__1Oq_0",CtrlRight:"RotaryCtrl_CtrlRight__RbI2j"}},154:function(e,t,n){e.exports={login:"Login_login__1DZpm",close:"Login_close__jc06k",popupWindow:"Login_popupWindow__2XsJg",popupInner:"Login_popupInner__1U9Rq"}},187:function(e,t,n){e.exports={navbar:"NavBar_navbar__2NK8m",navMenu:"NavBar_navMenu__DRNeT"}},193:function(e,t,n){e.exports={UpDown:"Settings_UpDown__1XZ21",LeftRight:"Settings_LeftRight__NUQR3"}},194:function(e,t,n){e.exports={Canvas:"Stream_Canvas__pCA10",Settings:"Stream_Settings__2Zsif"}},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var o=n(8),c=n(1),a=n(27),s=n(195),i=n(2),r=new s.a("",{autoConnect:!1}),l=r.socket("/"),d=Object(c.createContext)(),j=n(316);function u(){return Object(c.useContext)(d)}function b(e){var t=e.children,n=Object(c.useState)(!1),u=Object(o.a)(n,2),b=u[0],m=u[1],h=Object(c.useState)(""),O=Object(o.a)(h,2),p=O[0],f=O[1],g=Object(c.useState)(""),x=Object(o.a)(g,2),S=x[0],w=x[1],v=Object(c.useState)("white"),C=Object(o.a)(v,2),y=C[0],k=C[1],_=Object(a.b)();Object(c.useEffect)((function(){l.on("connect",(function(e){m(!0),_.addLog("Server : Client connected to "+S)})),l.on("disconnect",(function(e){m(!1),_.addLog("Server : Client disconnect.")})),l.on("status",(function(e){e.status.busy?_.addBusyComp(e.componentId):_.removeBusyComp(e.componentId)}))}));var I=function(e,t){l.disconnect(),r=new s.a(e,{autoConnect:!1}),l=r.socket("/"),d=Object(c.createContext)(),w(e),f(t)};return Object(i.jsx)(d.Provider,{value:{socket:l,connected:b,toggleConnection:function(e){if(b)m(!1),f(""),I(""),l.close(),_.addLog("Client disconnected by choice.");else{var t={sub:e,component:"client",iat:Date.now(),exp:Date.now()+36e5},n=j.sign(t,"keysecret");l.auth={token:n},l.connect(),m(!0),_.addLog("Client connected by choice.")}},setNewURL:I,setNewFont:function(e){k(e)},username:p,fontColor:y},children:t})}},265:function(e,t,n){"use strict";(function(e){var o=n(266),c=n(270),a=n(272),s=n(273),i=n(289),r=n(25),l=n(27),d=n(288),j=n(35),u=n(2);t.a=function(){return e.title="XRTLApp",Object(u.jsx)(l.a,{children:Object(u.jsxs)(r.a,{children:[Object(u.jsx)(i.a,{}),Object(u.jsxs)(j.a,{children:[Object(u.jsx)(d.a,{}),Object(u.jsx)(c.a,{}),Object(u.jsx)(a.a,{}),Object(u.jsx)(o.a,{}),Object(u.jsx)(s.a,{})]})]})})}}).call(this,n(34))},266:function(e,t,n){"use strict";var o=n(79),c=n(25),a=n(27),s=n(147),i=n(86),r=n(145),l=n(146),d=n(187),j=n.n(d),u=n(269),b=n(2);t.a=function(){var e=Object(a.b)(),t=Object(c.b)(),n="";t.connected&&(n="white");var d="";e.autoRotate&&(d="white");var m="";e.showTags&&(m="white");var h="";e.showWebcam&&(h="white");var O="";e.showBeam&&(O="white");var p="";return e.showInfoWindow&&(p="white"),Object(b.jsxs)("div",{id:"navbar",className:j.a.navbar,children:[Object(b.jsx)("h1",{children:"XR TwinLab"}),Object(b.jsx)("div",{className:j.a.navMenu,children:Object(b.jsxs)("ul",{children:[Object(b.jsx)(i.a,{title:"Connnection",children:Object(b.jsx)("li",{onClick:function(){t.connected?t.toggleConnection():e.toggleLogin()},children:Object(b.jsx)(r.b,{size:29,color:n})})}),Object(b.jsx)(i.a,{title:"2D model",children:Object(b.jsx)("li",{onClick:e.toggleShowVirtualLayer,children:Object(b.jsx)(l.a,{size:26})})}),Object(b.jsx)(i.a,{title:"Laser beam",children:Object(b.jsx)("li",{onClick:e.toggleShowBeam,children:Object(b.jsx)(s.a,{size:29,color:O})})}),Object(b.jsx)(i.a,{title:"Rotation",children:Object(b.jsx)("li",{onClick:e.toggleAutoRotate,children:Object(b.jsx)(o.d,{size:26,color:d})})}),Object(b.jsx)(i.a,{title:"Labels",children:Object(b.jsx)("li",{onClick:e.toggleShowTags,children:Object(b.jsx)(u.a,{size:25,color:m})})}),Object(b.jsx)(i.a,{title:"Webcam",children:Object(b.jsx)("li",{onClick:e.toggleShowWebcam,children:Object(b.jsx)(l.b,{size:26,color:h})})}),Object(b.jsx)(i.a,{title:"Information",children:Object(b.jsx)("li",{onClick:e.toggleShowInfoWindow,children:Object(b.jsx)(o.a,{size:26,color:p})})})]})})]})}},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var o=n(24),c=n(8),a=n(1),s=n.n(a),i=n(2),r=s.a.createContext();function l(){return Object(a.useContext)(r)}function d(e){var t=e.children,n=Object(a.useState)(!1),s=Object(c.a)(n,2),l=s[0],d=s[1],j=Object(a.useState)(!0),u=Object(c.a)(j,2),b=u[0],m=u[1],h=Object(a.useState)(new Set),O=Object(c.a)(h,2),p=O[0],f=O[1],g=Object(a.useState)(new Set),x=Object(c.a)(g,2),S=x[0],w=x[1],v=Object(a.useState)([]),C=Object(c.a)(v,2),y=C[0],k=C[1],_=Object(a.useState)(!0),I=Object(c.a)(_,2),M=I[0],L=I[1],R=Object(a.useState)(!1),N=Object(c.a)(R,2),P=N[0],D=N[1],T=Object(a.useState)(!1),B=Object(c.a)(T,2),H=B[0],U=B[1],F=Object(a.useState)(!1),z=Object(c.a)(F,2),E=z[0],W=z[1];return Object(i.jsx)(r.Provider,{value:{autoRotate:l,toggleAutoRotate:function(){d(!l)},showVirtualLayer:b,toggleShowVirtualLayer:function(){m(!b)},selectedComps:p,toggleSelectedComp:function(e){p.has(e)?f((function(t){return new Set(Object(o.a)(t).filter((function(t){return t!==e})))})):f((function(t){return new Set(t.add(e))}))},logs:y,addLog:function(e){k((function(t){return[e].concat(Object(o.a)(t))}))},busyComps:S,addBusyComp:function(e){S.has(e)||w((function(t){return new Set(t.add(e))}))},removeBusyComp:function(e){S.has(e)&&w((function(t){return new Set(Object(o.a)(t).filter((function(t){return t!==e})))}))},showTags:M,toggleShowTags:function(){L(!M)},showBeam:E,toggleShowBeam:function(){W(!E)},showLogin:P,setShowLogin:D,showInfoWindow:H,toggleShowInfoWindow:function(){U(!H)},toggleLogin:function(){D(!P)}},children:t})}},270:function(e,t,n){"use strict";var o=n(8),c=n(1),a=n(271),s=n(100),i=n.n(s),r=n(27),l=n(2);t.a=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),s=n[0],d=n[1],j=Object(c.useState)(""),u=Object(o.a)(j,2),b=u[0],m=u[1],h=Object(r.b)();return Object(l.jsxs)("div",{className:i.a.consoleContainer+" "+b,children:[Object(l.jsx)("div",{className:i.a.consoleMain,children:h.logs.map((function(e,t){return Object(l.jsxs)("span",{children:[e,Object(l.jsx)("br",{})]},t)}))}),Object(l.jsx)("div",{className:i.a.consoleHandler,children:Object(l.jsx)("span",{children:Object(l.jsx)(a.a,{size:35,onClick:function(){m(s?i.a.closeConsole:i.a.openConsole),d(!s)}})})})]})}},272:function(e,t,n){"use strict";var o=n(24),c=n(8),a=n(1),s=n(85),i=n.n(s),r=n(145),l=n(79),d=n(25),j=n(2);t.a=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),s=n[0],u=n[1],b=Object(a.useState)(!1),m=Object(c.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)(""),f=Object(c.a)(p,2),g=f[0],x=f[1],S=Object(a.useState)([]),w=Object(c.a)(S,2),v=w[0],C=w[1],y=Object(d.b)(),k=Object(a.useRef)();k.current=function(){y.socket.on("message",(function(e){C([].concat(Object(o.a)(v),[e]))}))},Object(a.useEffect)((function(){k.current()}),[y,v]);return Object(j.jsxs)("div",{className:i.a.chatContainer+" "+g,children:[Object(j.jsx)("div",{className:i.a.chatMain,children:v.map((function(e,t){return Object(j.jsxs)("b",{children:[Object(j.jsxs)("span",{style:{color:e.color},children:[" ",e.userId,":"]})," ",Object(j.jsx)("span",{children:e.message}),Object(j.jsx)("br",{})]},t)}))}),Object(j.jsxs)("form",{className:i.a.msgForm,onSubmit:function(e){e.preventDefault(),y.socket.emit("message",{userId:y.username,message:s,color:y.fontColor}),u("")},children:[Object(j.jsx)("input",{type:"text",name:"message",placeholder:"Type Message here",value:s,onChange:function(e){u(e.target.value)},required:!0}),Object(j.jsx)("button",{type:"submit",children:Object(j.jsx)(l.e,{size:25})})]}),Object(j.jsx)("div",{className:i.a.chatHandler+" "+g,children:Object(j.jsx)("span",{children:Object(j.jsx)(r.a,{size:35,onClick:function(){x(h?i.a.closeChat:i.a.openChat),O(!h)}})})})]})}},273:function(e,t,n){"use strict";var o=n(23),c=n(8),a=n(196),s=n(449),i=n(296),r=n(197),l=n(295),d=n(450),j=n(444),u=n(448),b=n(274),m=n.n(b),h=n(275),O=n.n(h),p=n(440),f=n(25),g=n(27),x=n(276),S=n.n(x),w=n(1),v=n(154),C=n.n(v),y=n(2);t.a=function(e){var t=["IndianRed","FireBrick","MediumVioletRed","HotPink","Coral","DarkOrange","Yellow","Khaki","Plum","DarkOrchid","ForestGreen","DarkOliveGreen","LightGreen","Teal","Aqua","Blue","LightSkyBlue"],n=Object(w.useState)("white"),b=Object(c.a)(n,2),h=b[0],x=b[1],v=Object(w.useState)(null),k=Object(c.a)(v,2),_=k[0],I=k[1],M=Object(w.useState)(""),L=Object(c.a)(M,2),R=L[0],N=L[1],P=Object(p.a)(),D=Object(f.b)(),T=Object(g.b)(),B=Object(a.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#fff"}},spacing:2}),H=function(){if(""!==R)try{D.setNewURL(String(_.title),String(R)),D.toggleConnection(String(R)),T.setShowLogin(!1)}catch(e){}};return T.showLogin?Object(y.jsxs)(s.a,{theme:B,children:[Object(y.jsx)("div",{className:C.a.popupWindow}),Object(y.jsxs)("div",{className:C.a.popupInner,children:[Object(y.jsx)("h3",{title:"settings",children:"Settings"}),Object(y.jsx)("div",{className:C.a.close,children:Object(y.jsx)(i.a,{onClick:function(e){T.setShowLogin(!1)},children:Object(y.jsx)(m.a,{fontSize:"large"})})}),Object(y.jsxs)(r.a,{container:!0,columnSpacing:{md:95},children:[Object(y.jsx)(r.a,{item:!0,xs:6,children:Object(y.jsx)(l.a,{autoFocus:!0,variant:"outlined",label:"Username ",value:R,onChange:function(e){N(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&H()},style:{marginLeft:17,width:250},error:""===R,helperText:""===R?"Please enter your username!":" "})}),Object(y.jsx)(r.a,{item:!0,xs:6,children:Object(y.jsx)(i.a,{onClick:function(e){t=t[Math.floor(16*Math.random())],document.getElementById("colorIcon").style.color=t,x(t),D.setNewFont(t)},children:Object(y.jsx)(O.a,{id:"colorIcon",color:h,fontSize:"large"})})})]}),Object(y.jsx)(d.a,{sx:{m:8,width:250},children:Object(y.jsx)(j.a,{value:_,freeSolo:!0,renderInput:function(e){return Object(y.jsx)(l.a,Object(o.a)(Object(o.a)({},e),{},{label:"Choose server address "}))},onChange:function(e,t){"string"===typeof t?I({title:t}):t&&t.inputValue?I({title:t.inputValue}):I(t)},onKeyPress:function(e){"Enter"===e.key&&H()},filterOptions:function(e,t){var n=P(e,t),o=t.inputValue,c=e.some((function(e){return o===e.title}));return""===o||c||n.push({inputValue:o,title:'Add "'.concat(o,'"')}),n},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:[{title:"http://localhost:7000"},{title:"http://192.168.1.42:7000"},{title:"http://10.232.37.40:7000"}],getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.title},renderOption:function(e,t){return Object(y.jsx)("li",Object(o.a)(Object(o.a)({},e),{},{children:t.title}))}})}),Object(y.jsx)(u.a,{size:"small",type:"submit",variant:"contained",onClick:H,endIcon:Object(y.jsx)(S.a,{}),style:{width:90,height:30,marginTop:-3,marginLeft:270},children:"Login"})]})]}):Object(y.jsx)("div",{})}},281:function(e,t,n){e.exports={popUp:"PopUp_popUp__IolRq"}},287:function(e,t,n){e.exports={mainWrapper:"InfoWindowContent_mainWrapper__345Fv"}},288:function(e,t,n){"use strict";var o=n(8),c=n(1),a=n.n(c),s=n(190),i=n(280),r=n(102),l=n.n(r),d=n(279),j=n.n(d),u=n(2),b=function(e){return Object(u.jsx)(j.a,{handle:".draggableHandler",children:Object(u.jsxs)("div",{className:l.a.window,style:{top:e.top+"px",left:e.left+"px"},children:[Object(u.jsxs)("div",{className:l.a.windowHeader,children:[Object(u.jsx)("span",{className:"draggableHandler",style:{display:"block",width:"calc(100% - 50px)",cursor:"move",float:"left"},children:e.header}),Object(u.jsxs)("span",{onClick:e.onReset,children:[" ",Object(u.jsx)(s.b,{size:20}),"        "]}),Object(u.jsx)("span",{onClick:e.onClose,children:Object(u.jsx)(i.a,{size:20})})]}),Object(u.jsx)("div",{className:l.a.windowContent,style:{height:e.height,width:e.width,background:"url("+e.background+")"},children:e.children}),void 0!==e.footer&&Object(u.jsxs)("div",{className:l.a.windowFooter,children:[Object(u.jsxs)("span",{onClick:e.onInfo,children:[" ",Object(u.jsx)(s.a,{size:25})]}),Object(u.jsx)("label",{children:e.footer})]}),Object(u.jsx)("div",{className:l.a.windowInfo})]})})},m=n(27),h=n(35),O=n(25),p=function(e){var t,n=Object(O.b)(),o=Object(c.useRef)();n.socket.emit("viewer",e.component);return o.current=function(){document.getElementById("video").setAttribute("style","display: true"),n.socket.emit("viewer",e.component),n.socket.on("offer",(function(o){t=e.peer,console.log(t),t.setRemoteDescription(o.data).then((function(){return t.createAnswer()})).then((function(e){return t.setLocalDescription(e)})).then((function(){return n.socket.emit("answer",{id:o.id,data:t.localDescription})})),t.ontrack=function(e){document.getElementById("video").srcObject=e.streams[0]},t.onicecandidate=function(e){e.candidate&&n.socket.emit("candidate",{id:o.id,data:e.candidate})}})),n.socket.on("candidate",(function(e){t.addIceCandidate(new RTCIceCandidate(e.data)).catch((function(e){return console.error(e)}))}))},Object(c.useEffect)((function(){o.current()}),[]),Object(u.jsx)("div",{children:Object(u.jsx)("video",{className:"video",id:"video",autoPlay:!0,playsInline:!0,width:"640px",height:"480px"})})},f=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(["","",""]),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)("info"),f=Object(o.a)(j,2),g=f[0],x=f[1],S=Object(c.useState)(!1),w=Object(o.a)(S,2),v=w[0],C=w[1],y=Object(c.useState)(!1),k=Object(o.a)(y,2),_=k[0],I=k[1],M=Object(m.b)(),L=Object(O.b)(),R=Object(h.b)(),N=Object(c.useRef)(),P=Object(c.useRef)(),D=new RTCPeerConnection({iceServers:[{urls:["stun:stun.stunprotocol.org"]}]});return N.current=function(){L.socket.on("data",(function(e){console.log("Data payload",e)}))},P.current=function(){L.socket.emit("join stream room",{id:e.id,userId:L.username})},Object(c.useEffect)((function(){N.current()}),[L.socket]),Object(c.useEffect)((function(){P.current()}),[]),Object(u.jsx)(b,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,height:"480px",width:"620px",onClose:function(){M.toggleSelectedComp(e.id),D.close(),L.socket.emit("watcher disconnect")},onReset:function(){L.socket.emit("command",{userId:L.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;v="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===l[0]?v="No last change detected!":n[0]>l[0]?(e=n[0]-l[0],v="Last change is more than "+e+" h ago!"):n[0]===l[0]&&n[1]===l[1]&&n[2]>l[2]?(o=n[2]-l[2],v="Last change is "+o+" s ago!"):n[0]===l[0]&&n[1]>l[1]?(t=n[1]-l[1],v="Last change is more than "+t+" min ago!"):v=n[3]>l[3]||n[4]>l[4]?"Last change is more than 24 h ago!":"No last change detected!",C(v),x("info"),R.toggleShowPopUp(v,g)},footer:a,children:Object(u.jsx)(p,{peer:D,component:e.id,newStatus:function(e){if(!_){_=!0,I(!0);var t=new Date;d([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){_=!1,I(!1)}},footer:a})})},g=n(196),x=n(449),S=n(147),w=n(450),v=n(5),C=n(514),y=n(500),k=n(515),_=n(508),I=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(m.b)(),r=Object(O.b)(),l=Object(c.useRef)();l.current=function(){r.socket.on("status",(function(t){t.component===e.component&&s(t.status[e.control])}))},Object(c.useEffect)((function(){l.current()}),[r.socket]);return Object(u.jsx)(w.a,{sx:{width:250,m:2},children:Object(u.jsx)(C.a,{children:Object(u.jsxs)(y.a,{direction:"row",spacing:1,alignItems:"center",children:[Object(u.jsx)(k.a,{children:e.start}),Object(u.jsx)(_.a,{checked:a,onChange:function(t,n){s(n),r.socket.emit("command",{userId:r.username,componentId:e.component,command:Object(v.a)({controlId:e.command},e.option,n)}),r.socket.emit("footer",{status:"Last change by: "+r.username,componentId:e.component}),i.addLog("User set switch on "+e.component+" to "+a);try{e.icon.style.color=!0===a?"grey":"white"}catch(o){}},inputProps:{"aria-label":"controlled"},disabled:!(r.connected&&!i.busyComps.has(e.component)&&e.online)}),Object(u.jsx)(k.a,{children:e.end})]})})})},M=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(O.b)(),b=Object(c.useRef)(),h=Object(m.b)(),p=Object(g.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#fff"}}});return b.current=function(){j.socket.emit("command",{userId:j.username,componentId:e.component,command:"getStatus"}),j.socket.on("status",(function(t){t.componentId===e.component&&s(t.status.laser)})),j.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),j.socket.emit("getFooter",e.component),j.socket.on("getFooter",(function(t){t.componentId===e.component&&(d(!t.online),e.newStatus(String(t.status)))})),h.addLog("User set position on "+e.component+" to "+a)},Object(c.useEffect)((function(){b.current()}),[j.socket]),Object(u.jsx)("div",{className:"switchOnOff",children:Object(u.jsx)(x.a,{theme:p,children:Object(u.jsxs)(w.a,{sx:{m:2,width:250},children:[Object(u.jsx)(I,{component:e.component,command:"switch",start:"Off",end:"On",checked:a,icon:document.getElementById("icon"),online:l,option:"val"}),Object(u.jsx)(S.a,{id:"icon",size:100,"vertical-align":"middle",color:"grey"})]})})})},L=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(["","",""]),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)("info"),p=Object(o.a)(j,2),f=p[0],g=p[1],x=Object(c.useState)(!1),S=Object(o.a)(x,2),w=S[0],v=S[1],C=Object(c.useState)(!1),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(m.b)(),L=Object(O.b)(),R=Object(h.b)(),N=function(e){if(!k){k=!0,_(!0);var t=new Date;d([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}};return Object(u.jsx)(b,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,height:"200px",width:"300px",onClose:function(){I.toggleSelectedComp(e.id)},onReset:function(){L.socket.emit("command",{userId:L.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===l[0]?w="No last change detected!":n[0]>l[0]?(e=n[0]-l[0],w="Last change is more than "+e+" h ago!"):n[0]===l[0]&&n[1]===l[1]&&n[2]>l[2]?(o=n[2]-l[2],w="Last change is "+o+" s ago!"):n[0]===l[0]&&n[1]>l[1]?(t=n[1]-l[1],w="Last change is more than "+t+" min ago!"):w=n[3]>l[3]||n[4]>l[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),g("info"),R.toggleShowPopUp(w,f)},newStatus:N,footer:a,children:Object(u.jsx)(M,{component:e.id,top:"0",left:"0",newStatus:N,footer:a})})},R=n(282),N=n.n(R),P=n(192),D=n.n(P),T=n(191),B=n.n(T),H=n(504),U=function(e){var t=Object(c.useState)(e.sliderPos),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(m.b)(),r=Object(O.b)(),l=Object(c.useRef)(),d=[{value:parseInt(e.min),label:e.min},{value:0,label:"0"},{value:parseInt(e.max),label:e.max}];l.current=function(){r.socket.on("status",(function(t){t.component===e.component&&s(t.status[e.control])}))},Object(c.useEffect)((function(){l.current()}),[r.socket]);var j=function(t,n){r.socket.emit("command",{userId:r.username,componentId:e.component,command:Object(v.a)({controlId:e.command},e.option,n)}),r.socket.emit("footer",{status:"Last change by: "+r.username,componentId:e.component}),i.addLog("User set position on "+e.component+" to "+a)};return e.text?Object(u.jsxs)(w.a,{sx:{width:250,m:2},children:[Object(u.jsx)(k.a,{id:"input-slider",gutterBottom:!0,children:e.title}),Object(u.jsx)(y.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:Object(u.jsx)(H.a,{"aria-label":"Temperature",id:"brightnessSlider",defaultValue:0,valueLabelDisplay:"auto",step:1,min:e.min,max:e.max,value:a,onChangeCommitted:j,marks:e.text,disabled:!(r.connected&&!i.busyComps.has(e.component)&&e.online)})})]}):Object(u.jsxs)(w.a,{sx:{width:250,m:2},children:[Object(u.jsx)(k.a,{id:"input-slider",gutterBottom:!0,children:e.title}),Object(u.jsx)(y.a,{spacing:2,direction:"row",sx:{mb:1},alignItems:"center",children:Object(u.jsx)(H.a,{"aria-label":"Temperature",id:"brightnessSlider",defaultValue:0,valueLabelDisplay:"auto",step:1,min:e.min,max:e.max,value:a,onChangeCommitted:j,marks:d,disabled:!(r.connected&&!i.busyComps.has(e.component)&&e.online)})})]})},F=n(512),z=n(507),E=n(502),W=n(505),A=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(O.b)(),r=Object(m.b)(),l=function(t,n){s(n.props.value),i.socket.emit("command",{userId:i.username,componentId:e.component,command:Object(v.a)({controlId:e.command},e.option,n.props.value)}),i.socket.emit("footer",{status:"Last change by: "+i.username,componentId:e.component}),r.addLog("User set switch on "+e.component+" to "+a)};return"Average time (ms)"===e.title?Object(u.jsxs)(E.a,{value:a,label:e.title,onChange:l,disabled:!(i.connected&&!r.busyComps.has(e.component)&&e.online),children:[Object(u.jsx)(W.a,{value:100,children:"100"}),Object(u.jsx)(W.a,{value:500,children:"500"}),Object(u.jsx)(W.a,{value:1e3,children:"1000"}),Object(u.jsx)(W.a,{value:2e3,children:"2000"})]}):"Update time (s)"===e.title?Object(u.jsxs)(E.a,{value:a,label:e.title,onChange:l,disabled:!(i.connected&&!r.busyComps.has(e.component)&&e.online),children:[Object(u.jsx)(W.a,{value:1e3,children:"100"}),Object(u.jsx)(W.a,{value:5e3,children:"500"}),Object(u.jsx)(W.a,{value:1e4,children:"1000"})]}):Object(u.jsx)("div",{})},V=function(e){return Object(u.jsx)(w.a,{sx:{m:2,width:250},children:Object(u.jsxs)(F.a,{fullWidth:!0,children:[Object(u.jsx)(z.a,{children:e.title}),Object(u.jsx)(A,{title:e.title,component:e.component,online:e.online,command:e.command,option:e.option})]})})},G=n(296),K=n(448),X=n(66),q=n.n(X),J=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!0),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),m=b[0],h=b[1],p=Object(c.useState)("-\xb0C"),f=Object(o.a)(p,2),S=f[0],v=f[1],C=Object(O.b)(),y=Object(c.useRef)(),_=Object(g.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#01bd7d"}}}),M=function(){d(!l)};return y.current=function(){return m||(m=!0,h(!0),C.socket.emit("command",{userId:C.username,componentId:e.component,command:"getStatus"}),C.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),C.socket.emit("getFooter",e.component),C.socket.on("getFooter",(function(t){t.componentId===e.component&&(s(!0),e.newStatus(String(t.status)))})),C.socket.on("data",(function(t){console.log("hier "),t.componentId===e.component&&v(t.data.data)})),C.socket.on("status",(function(t){t.componentId===e.component&&console.log("Status of settings:   ",t)})),m=!1,h(!1)),function(){m=!1,h(!1)}},Object(c.useEffect)((function(){y.current()}),[C.socket]),l?Object(u.jsxs)(x.a,{theme:_,children:[Object(u.jsxs)("div",{className:q.a.Temp,children:[Object(u.jsx)(k.a,{variant:"h2",children:S}),Object(u.jsx)(G.a,{onClick:M,children:Object(u.jsx)(B.a,{sx:{fontSize:35}})})]}),Object(u.jsx)("div",{className:q.a.Canvas1,children:Object(u.jsx)("canvas",{id:"Gauge"})}),Object(u.jsx)("div",{className:q.a.Heater,children:Object(u.jsx)(w.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",mt:-2},children:Object(u.jsxs)("div",{style:{paddingLeft:10},children:[Object(u.jsx)(K.a,{sx:{fontSize:17},startIcon:Object(u.jsx)(D.a,{}),children:"Heater settings "}),Object(u.jsx)(U,{title:"Power",component:e.component,command:"output",min:0,max:255,online:a,option:"power"})]})})}),Object(u.jsx)("div",{className:q.a.Switch,children:Object(u.jsx)(w.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:Object(u.jsx)(I,{component:e.component,command:"output",start:"Off",end:"On",online:a,option:"stream"})})})]}):Object(u.jsxs)(x.a,{theme:_,children:[Object(u.jsxs)("div",{className:q.a.Temp,children:[Object(u.jsx)(k.a,{variant:"h2",children:S}),Object(u.jsx)(G.a,{onClick:M,children:Object(u.jsx)(B.a,{sx:{fontSize:35}})})]}),Object(u.jsx)("div",{className:q.a.Canvas2,children:Object(u.jsx)("canvas",{id:"Heater"})}),Object(u.jsx)("div",{className:q.a.Canvas1,children:Object(u.jsx)("canvas",{id:"Gauge"})}),Object(u.jsx)("div",{className:q.a.Heater,children:Object(u.jsxs)(w.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",mt:-2},children:[Object(u.jsxs)("div",{style:{paddingLeft:10},children:[Object(u.jsx)(K.a,{sx:{fontSize:17},startIcon:Object(u.jsx)(D.a,{}),children:"Heater settings "}),Object(u.jsx)(U,{title:"Power",component:e.component,command:"output",min:0,max:255,online:a,option:"power"})]}),Object(u.jsxs)("div",{style:{paddingLeft:20},children:[Object(u.jsx)(K.a,{sx:{fontSize:17},startIcon:Object(u.jsx)(N.a,{}),children:"Gauge settings "}),Object(u.jsx)(V,{title:"Average time (ms)",component:e.component,online:a,command:"thermistor",option:"averageTime"}),Object(u.jsx)(V,{title:"Update time (s)",component:e.component,online:a,command:"thermistor",option:"updateTime"})]})]})}),Object(u.jsx)("div",{className:q.a.Switch,children:Object(u.jsxs)(w.a,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:[Object(u.jsx)(I,{component:e.component,command:"output",start:"Off",end:"On",online:a,option:"stream"}),Object(u.jsx)(I,{component:e.component,command:"thermistor",start:"Off",end:"On",online:a,option:"val"})]})})]})},Z=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(["","",""]),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)("info"),p=Object(o.a)(j,2),f=p[0],g=p[1],x=Object(c.useState)(!1),S=Object(o.a)(x,2),w=S[0],v=S[1],C=Object(c.useState)(!1),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(m.b)(),M=Object(O.b)(),L=Object(h.b)(),R=Object(c.useRef)(),N=Object(c.useRef)();return R.current=function(){M.socket.on("data",(function(e){console.log("Data payload",e)}))},N.current=function(){M.socket.emit("join stream room",{id:e.id,userId:M.username})},Object(c.useEffect)((function(){R.current()}),[M.socket]),Object(c.useEffect)((function(){N.current()}),[]),Object(u.jsx)(b,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,height:"340px",width:"623px",onClose:function(){I.toggleSelectedComp(e.id),M.socket.emit("leave stream room",{id:e.id,userId:M.username})},onReset:function(){M.socket.emit("command",{userId:M.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===l[0]?w="No last change detected!":n[0]>l[0]?(e=n[0]-l[0],w="Last change is more than "+e+" h ago!"):n[0]===l[0]&&n[1]===l[1]&&n[2]>l[2]?(o=n[2]-l[2],w="Last change is "+o+" s ago!"):n[0]===l[0]&&n[1]>l[1]?(t=n[1]-l[1],w="Last change is more than "+t+" min ago!"):w=n[3]>l[3]||n[4]>l[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),g("info"),L.toggleShowPopUp(w,f)},footer:a,children:Object(u.jsx)(J,{component:e.id,newStatus:function(e){if(!k){k=!0,_(!0);var t=new Date;d([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}},footer:a})})},Q=n(79),Y=n(119),$=n.n(Y),ee=function(e){var t,n=Object(c.useState)(0),a=Object(o.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(!1),l=Object(o.a)(r,2),d=l[0],j=l[1],b=Object(c.useState)(0),h=Object(o.a)(b,2),p=h[0],f=h[1],g=Object(c.useState)(!1),x=Object(o.a)(g,2),S=x[0],w=x[1],v=Object(m.b)(),C=Object(O.b)(),y=Object(c.useRef)();y.current=function(){return S||(S=!0,w(!0),C.socket.emit("command",{userId:C.username,componentId:e.component,command:"getStatus"}),C.socket.emit("getFooter",e.component),C.socket.on("getFooter",(function(t){t.componentId===e.component&&(j(t.online),e.newStatus(String(t.status)))})),C.socket.on("status",(function(t){t.componentId===e.component&&("top"===e.control?f(t.status.top.absolute):"bottom"===e.control?f(t.status.bottom.absolute):f(t.status.linear.absolute))})),C.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),S=!1,w(!1)),function(){S=!1,w(!1)}},Object(c.useEffect)((function(){y.current()}),[C.socket]);var k=function(n){return function(o){o.preventDefault(),t=0,"left"===n?t=-1*Number(s):"right"===n&&(t=Number(s)),0!==t&&(C.socket.emit("command",{userId:C.username,componentId:e.component,command:{controlId:e.control,val:t}}),C.socket.emit("footer",{status:"Last change by: "+C.username,componentId:e.component})),v.addLog("User initiated CW rotation on "+e.component+" / "+e.control+" by "+s+" steps.")}};return Object(u.jsxs)("form",{className:$.a.rotaryCtrl,style:{top:e.top+"px",left:e.left+"px"},children:[Object(u.jsxs)("div",{className:$.a.rotaryCtrl,children:[Object(u.jsx)("span",{children:Number(p)}),Object(u.jsx)("input",{type:"number",min:"0",max:"100",value:s,onChange:function(e){i(e.target.value)}})]}),Object(u.jsx)("button",{onClick:k("left"),className:$.a.CtrlLeft,disabled:!(C.connected&&!v.busyComps.has(e.component)&&d),children:Object(u.jsx)(Q.b,{size:28})}),Object(u.jsx)("button",{onClick:k("right"),className:$.a.CtrlRight,disabled:!(C.connected&&!v.busyComps.has(e.component)&&d),children:Object(u.jsx)(Q.c,{size:28})})]})},te=n.p+"static/media/km100_outline.5cffd463.png",ne=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(["","",""]),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)("info"),p=Object(o.a)(j,2),f=p[0],g=p[1],x=Object(c.useState)(!1),S=Object(o.a)(x,2),w=S[0],v=S[1],C=Object(c.useState)(!1),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(m.b)(),M=Object(O.b)(),L=Object(h.b)(),R=function(e){if(!k){k=!0,_(!0);var t=new Date;d([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}};return Object(u.jsxs)(b,{header:e.title+" ("+e.id+")",footer:a,top:e.top,left:e.left,height:"240px",width:"250px",background:te,onClose:function(){I.toggleSelectedComp(e.id)},onReset:function(){M.socket.emit("command",{userId:M.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===l[0]?w="No last change detected!":n[0]>l[0]?(e=n[0]-l[0],w="Last change is more than "+e+" h ago!"):n[0]===l[0]&&n[1]===l[1]&&n[2]>l[2]?(o=n[2]-l[2],w="Last change is "+o+" s ago!"):n[0]===l[0]&&n[1]>l[1]?(t=n[1]-l[1],w="Last change is more than "+t+" min ago!"):w=n[3]>l[3]||n[4]>l[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),g("info"),L.toggleShowPopUp(w,f)},children:[Object(u.jsx)(ee,{rotation:e.rotationTop,component:e.id,control:"top",newStatus:R,footer:a,top:"20",left:"160"}),Object(u.jsx)(ee,{rotation:e.rotationBottom,component:e.id,control:"bottom",newStatus:R,footer:a,top:"50",left:"160"})]})},oe=n.p+"static/media/linear_outline.7ac97702.png",ce=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(["","",""]),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)("info"),p=Object(o.a)(j,2),f=p[0],g=p[1],x=Object(c.useState)(!1),S=Object(o.a)(x,2),w=S[0],v=S[1],C=Object(c.useState)(!1),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(m.b)(),M=Object(O.b)(),L=Object(h.b)(),R=function(e){if(!k){k=!0,_(!0);var t=new Date;d([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}};return Object(u.jsx)(b,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,width:"250px",height:"235px",onClose:function(){I.toggleSelectedComp(e.id)},onReset:function(){M.socket.emit("command",{userId:M.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===l[0]?w="No last change detected!":n[0]>l[0]?(e=n[0]-l[0],w="Last change is more than "+e+" h ago!"):n[0]===l[0]&&n[1]===l[1]&&n[2]>l[2]?(o=n[2]-l[2],w="Last change is "+o+" s ago!"):n[0]===l[0]&&n[1]>l[1]?(t=n[1]-l[1],w="Last change is more than "+t+" min ago!"):w=n[3]>l[3]||n[4]>l[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),g("info"),L.toggleShowPopUp(w,f)},background:oe,newStatus:R,footer:a,children:Object(u.jsx)(ee,{rotation:e.rotation,component:e.id,newStatus:R,footer:a,control:"linear",top:"35",left:"160"})})},ae=n(284),se=n.n(ae),ie=n(283),re=n.n(ie),le=function(e){var t=Object(O.b)(),n=Object(m.b)(),o=function(o,c){return function(a){a.preventDefault(),t.socket.emit("command",{userId:t.username,componentId:e.component,command:{controlId:o,val:c?15:-15}}),t.socket.emit("footer",{status:"Last change by: "+t.username,componentId:e.component}),n.addLog("User changed the position on "+e.component)}};return Object(u.jsxs)(w.a,{children:[Object(u.jsx)(G.a,{onClick:o("virtualPan",!1),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(u.jsx)(re.a,{})}),Object(u.jsx)(G.a,{onClick:o("virtualPan",!0),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(u.jsx)(se.a,{})})]})},de=n(193),je=n.n(de),ue=n(285),be=n.n(ue),me=n(286),he=n.n(me),Oe=function(e){var t=Object(O.b)(),n=Object(m.b)(),o=function(o,c){return function(a){a.preventDefault(),t.socket.emit("command",{userId:t.username,componentId:e.component,command:{controlId:o,val:c?15:-15}}),t.socket.emit("footer",{status:"Last change by: "+t.username,componentId:e.component}),n.addLog("User changed the position on "+e.component)}};return Object(u.jsxs)(y.a,{children:[Object(u.jsx)(G.a,{onClick:o("virtualTilt",!0),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(u.jsx)(be.a,{})}),Object(u.jsx)(G.a,{onClick:o("virtualTilt",!1),disabled:!(t.connected&&!n.busyComps.has(e.component)&&e.online),children:Object(u.jsx)(he.a,{})})]})},pe=function(e){var t=Object(c.useState)(!0),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(O.b)(),b=Object(c.useRef)(),m=Object(g.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#01bd7d"}}});return b.current=function(){return l||(l=!0,d(!0),j.socket.emit("command",{userId:j.username,componentId:e.component,command:"getStatus"}),j.socket.emit("getFooter",e.component),j.socket.on("getFooter",(function(t){t.componentId===e.component&&(s(!0),e.newStatus(String(t.status)))})),j.socket.on("status",(function(t){t.componentId===e.component&&console.log("Status of settings:   ",t)})),j.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),l=!1,d(!1)),function(){l=!1,d(!1)}},Object(c.useEffect)((function(){b.current()}),[j.socket]),Object(u.jsxs)(x.a,{theme:m,children:[Object(u.jsx)("div",{className:je.a.UpDown,children:Object(u.jsx)(Oe,{component:e.component,online:a})}),Object(u.jsx)("div",{className:je.a.LeftRight,children:Object(u.jsx)(le,{component:e.component,online:a})}),Object(u.jsxs)(w.a,{sx:{m:2,width:250},children:[" ",Object(u.jsx)("h1",{children:"Settings"})," "]}),Object(u.jsx)(V,{title:"Resolution",component:e.component,online:a,command:"frame size"}),Object(u.jsx)(I,{component:e.component,command:"gray",start:"Color",end:"Grey",online:!0,option:"val"}),Object(u.jsx)(U,{title:"Contrast",component:e.component,command:"contrast",min:-2,max:2,online:a,option:"val"}),Object(u.jsx)(U,{title:"Brightness",component:e.component,command:"brightness",min:-2,max:2,online:a,option:"val"})]})},fe=n(194),ge=n.n(fe),xe=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(["","",""]),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)("info"),p=Object(o.a)(j,2),f=p[0],g=p[1],x=Object(c.useState)(!1),S=Object(o.a)(x,2),w=S[0],v=S[1],C=Object(c.useState)(!1),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(O.b)(),M=Object(m.b)(),L=Object(h.b)(),R=Object(c.useRef)(),N=Object(c.useRef)(),P=function(e){if(!k){k=!0,_(!0);var t=new Date;d([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}};return R.current=function(){I.socket.on("data",(function(e){for(var t=new Uint8Array(e.data.data),n="",o=0;o<t.length;o++)n+=String.fromCharCode(t[o]);var c=window.btoa(n),a=new Image;a.onload=function(){var e=document.getElementById("ScreenCanvas");if(null!=e){e.getContext("2d").drawImage(this,0,0,300,200)}},a.src="data:image/jpg;base64,"+c}))},N.current=function(){I.socket.emit("join stream room",{id:e.id,userId:I.username})},Object(c.useEffect)((function(){R.current()}),[I.socket]),Object(c.useEffect)((function(){N.current()}),[]),Object(u.jsxs)(b,{header:e.title+" ("+e.id+")",top:e.top,left:e.left,width:"1000px",height:"430px",onClose:function(){M.toggleSelectedComp(e.id),I.socket.emit("leave stream room",{id:e.id,userId:I.username})},onReset:function(){I.socket.emit("command",{userId:I.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===l[0]?w="No last change detected!":n[0]>l[0]?(e=n[0]-l[0],w="Last change is more than "+e+" h ago!"):n[0]===l[0]&&n[1]===l[1]&&n[2]>l[2]?(o=n[2]-l[2],w="Last change is "+o+" s ago!"):n[0]===l[0]&&n[1]>l[1]?(t=n[1]-l[1],w="Last change is more than "+t+" min ago!"):w=n[3]>l[3]||n[4]>l[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),g("info"),L.toggleShowPopUp(w,f)},footer:a,newStatus:P,children:[Object(u.jsx)("div",{className:ge.a.Canvas,children:Object(u.jsx)("canvas",{id:"ScreenCanvas"})}),Object(u.jsx)("div",{className:ge.a.Settings,children:Object(u.jsx)(pe,{component:e.id,footer:a,newStatus:P})})]})},Se=function(e){var t=Object(c.useState)(!0),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(O.b)(),b=Object(c.useRef)(),m=Object(g.a)({palette:{mode:"dark",primary:{light:"#01bd7d",main:"#01bd7d",dark:"#01bd7d",contrastText:"#01bd7d"}}});return b.current=function(){return l||(l=!0,d(!0),j.socket.emit("command",{userId:j.username,componentId:e.component,command:"getStatus"}),j.socket.emit("getFooter",e.component),j.socket.on("getFooter",(function(t){t.componentId===e.component&&(s(e.online),e.newStatus(String(t.status)))})),j.socket.on("status",(function(t){t.componentId===e.component&&console.log("Status of settings:   ",t)})),j.socket.on("footer",(function(t){t.componentId===e.component&&e.newStatus(String(t.status))})),l=!1,d(!1)),function(){l=!1,d(!1)}},Object(c.useEffect)((function(){b.current()}),[j.socket]),Object(u.jsx)(x.a,{theme:m,children:Object(u.jsx)(w.a,{sx:{mx:1},children:Object(u.jsx)(U,{title:"Glas option",component:e.component,min:0,max:2,command:"glas",text:[{value:0,label:"None"},{value:1,label:"Glas"},{value:2,label:"Laser"}],online:a,option:"pos"})})})},we=function(e){var t=Object(c.useState)(e.footer),n=Object(o.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(["","",""]),r=Object(o.a)(i,2),l=r[0],d=r[1],j=Object(c.useState)("info"),p=Object(o.a)(j,2),f=p[0],g=p[1],x=Object(c.useState)(!1),S=Object(o.a)(x,2),w=S[0],v=S[1],C=Object(c.useState)(!1),y=Object(o.a)(C,2),k=y[0],_=y[1],I=Object(m.b)(),M=Object(O.b)(),L=Object(h.b)();return Object(u.jsx)(b,{header:e.title+" ("+e.id+")",footer:a,top:e.top,left:e.left,height:"140px",width:"320px",onClose:function(){I.toggleSelectedComp(e.id)},onReset:function(){M.socket.emit("command",{userId:M.username,componentId:e.id,command:"reset"})},onInfo:function(){var e,t,n=new Date,o=0;w="",n=[n.getHours(),n.getMinutes(),n.getSeconds(),n.getDay(),n.getMonth()],""===l[0]?w="No last change detected!":n[0]>l[0]?(e=n[0]-l[0],w="Last change is more than "+e+" h ago!"):n[0]===l[0]&&n[1]===l[1]&&n[2]>l[2]?(o=n[2]-l[2],w="Last change is "+o+" s ago!"):n[0]===l[0]&&n[1]>l[1]?(t=n[1]-l[1],w="Last change is more than "+t+" min ago!"):w=n[3]>l[3]||n[4]>l[4]?"Last change is more than 24 h ago!":"No last change detected!",v(w),g("info"),L.toggleShowPopUp(w,f)},children:Object(u.jsx)(Se,{rotation:e.rotationTop,component:e.id,control:"top",newStatus:function(e){if(!k){k=!0,_(!0);var t=new Date;d([t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),t.getMonth()]),s(e)}return function(){k=!1,_(!1)}},footer:a,top:"20",left:"160"})})},ve=function(e){var t="Initializing...",n="0",o=window.innerHeight,c=window.innerWidth,a=c/2,s=String(o-o/3*2.7),i=String(o-o/1.4),r=String(o-o/2.15),l=String(c-1.9*a),d=String(c-1.8*a),j=String(c-.47*a),b=String(c-.4*a),m=String(c-1.485*a),h=["Michelson_KM100","Michelson_linear","Michelson_laser","Michelson_LaserPower","Michelson_cam","Michelson_heater","Cam_1","Michelson_beamSplitter"];return Object(u.jsxs)("div",{children:[e.selected.has(h[0])&&Object(u.jsx)(ne,{title:"Mirror",id:h[0],rotationTop:n,rotationBottom:n,footer:t,top:s,left:l}),e.selected.has(h[1])&&Object(u.jsx)(ce,{title:"Mirror Stage",id:h[1],footer:t,rotation:n,top:r,left:d}),e.selected.has(h[2])&&Object(u.jsx)(ne,{title:"Laser",id:h[2],rotationTop:n,rotationBottom:n,footer:t,top:r,left:b}),e.selected.has(h[3])&&Object(u.jsx)(L,{title:"Power Supply",id:h[3],footer:t,top:s,left:j}),e.selected.has(h[4])&&Object(u.jsx)(xe,{title:"Screen",id:h[4],footer:t,top:i,left:m}),e.selected.has(h[5])&&Object(u.jsx)(Z,{title:"Heater",id:h[5],footer:t,top:i,left:m}),e.selected.has(h[6])&&Object(u.jsx)(f,{title:"Cam_1",id:h[6],footer:t,top:i,left:m}),e.selected.has(h[7])&&Object(u.jsx)(we,{title:"Glas",id:h[7],footer:t,top:r,left:a})]})},Ce=n(287),ye=n.n(Ce),ke=n.p+"static/media/xrtl_team.519a843e.png",_e=function(e){return Object(u.jsxs)("div",{className:ye.a.mainWrapper,style:{backgroundImage:'url("'+ke+'")'},children:["Remote labs are a trendsetting way of teaching, communicating, and experiencing science as well as enabling collaborative work. Unfortunately, the implementation of remote access involves a cost-intensive development or at least requires a certain technical skillset. To establish remote labs across disciplines, especially outside the field of IT and engineering, the technical access threshold must be low enough to support a self-contained implementation by researchers, assistants, and technical staff. Hereby, we are developing the open-source toolbox XR Twin Lab for the research field of Photonics. XR Twin Lab (XRTL) provides a modular way of building a web-based application to control optical experimental setups with the integration of VR and AR endpoints.",Object(u.jsxs)("p",{children:['This Project is currently developed within the DAAD-funded project "digiPhoton" and BMBF-funded project "Lichtwerkstatt" at the Abbe School of Photonics / Institute of Applied Physics / Friedrich Schiller University in Jena. Feel free to follow our ',Object(u.jsx)("a",{href:"https://github.com/Lichtwerkstatt/XRTL_SPA",children:"Git Repo"})," or ",Object(u.jsx)("a",{href:"mailto:team@lichtwerkstatt-jena.de",children:"Contact us."})]}),Object(u.jsx)("p",{children:"Best! Clara, Falko, Jari and Johannes"})]})},Ie=function(e){var t=Object(m.b)();return Object(u.jsx)(b,{header:"About XR TwinLab",top:"250",left:"200",width:"600px",onClose:function(){t.toggleShowInfoWindow()},children:Object(u.jsx)(_e,{})})};t.a=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(O.b)(),r=Object(h.b)(),l=Object(m.b)(),d=Object(c.useRef)();return d.current=function(){i.socket.on("Auth",(function(){r.toggleShowPopUp("Connection successful!","success"),s(!0)})),n||(r.toggleShowPopUp("No server connection!","error"),s(""))},Object(c.useEffect)((function(){d.current()}),[i.socket]),Object(u.jsxs)(a.a.Fragment,{children:[l.showInfoWindow&&Object(u.jsx)(Ie,{}),Object(u.jsx)(ve,{toggleSelect:l.toggleSelectedComp,selected:l.selectedComps})]})}},289:function(e,t,n){"use strict";var o=n(23),c=n(1),a=n(506),s=n(499),i=n(498),r=n(2),l=function(e){return Object(r.jsxs)(i.a,{position:e.position,style:{color:"white",width:"200px",height:"30px"},zIndexRange:[0,10],children:[Object(r.jsx)("div",{style:{height:"150px",width:"0px",borderLeft:"2px solid white",float:"left"}}),Object(r.jsxs)("div",{style:{marginLeft:"12px"},children:[Object(r.jsx)("span",{children:Object(r.jsx)("b",{children:e.title})}),Object(r.jsx)("br",{}),e.description,Object(r.jsx)("br",{}),e.status]})]})};function d(e){var t=Object.assign({},e),n=Object(c.useRef)(),i=Object(a.a)("/model/MI_110422.glb"),d=i.nodes,j=i.materials;return Object(r.jsx)("group",Object(o.a)(Object(o.a)({ref:n},t),{},{dispose:null,children:Object(r.jsxs)("group",{name:"Scene",children:[Object(r.jsxs)("group",{name:"Optical elements",children:[Object(r.jsx)(s.a,{position:[-.55,.66,-.1],args:[1,1,1],scale:[.25,.25,.25],children:Object(r.jsx)("meshPhysicalMaterial",{thickness:1,roughness:.1,transmission:1,clearcoat:.5,clearcoatRoughness:0,ior:1.1,envMapIntensity:25,color:"#ffffff",attenuationColor:"#00ffff",attenuationDistance:5})}),Object(r.jsx)(s.b,{position:[.7,.67,-.13],args:[1,1,1],rotation:[0,0,Math.PI/2],scale:[.14,.05,.14],children:Object(r.jsx)("meshPhysicalMaterial",{thickness:1,roughness:.1,transmission:1,clearcoat:.5,clearcoatRoughness:0,ior:1.1,envMapIntensity:25,color:"#ffffff",attenuationColor:"#00ffff",attenuationDistance:5})})]}),Object(r.jsxs)("group",{name:"Mirror1",position:[-.53,.67,.94],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_KM100")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.3,0],title:"Reference Mirror",description:"KM100 Double Rotary Control"}),Object(r.jsx)("mesh",{name:"SideMirrorMesh",castShadow:!0,receiveShadow:!0,geometry:d.SideMirrorMesh.geometry,material:j.BlackParts,children:t.selected.has("Michelson_KM100")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})}),Object(r.jsx)("mesh",{name:"SideMirrorMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.SideMirrorMesh_1.geometry,material:j.ShinyParts}),Object(r.jsx)("mesh",{name:"SideMirrorMesh_2",castShadow:!0,receiveShadow:!0,geometry:d.SideMirrorMesh_2.geometry,material:j.Mirror})]}),Object(r.jsxs)("group",{name:"TranslateMirror",position:[-1.71,.67,-.12],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_linear")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.3,0],title:"Transtlate Mirror",description:"Linear Stage"}),Object(r.jsx)("mesh",{name:"TranslateMirrorMesh",castShadow:!0,receiveShadow:!0,geometry:d.TranslateMirrorMesh.geometry,material:j.BlackParts,children:t.selected.has("Michelson_linear")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})}),Object(r.jsx)("mesh",{name:"TranslateMirrorMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.TranslateMirrorMesh_1.geometry,material:j.ShinyParts}),Object(r.jsx)("mesh",{name:"TranslateMirrorMesh_2",castShadow:!0,receiveShadow:!0,geometry:d.TranslateMirrorMesh_2.geometry,material:j.Mirror})]}),Object(r.jsxs)("group",{name:"Schirm",position:[-.37,.86,-1.22],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_cam")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.5,0],title:"Screen",description:"Screen with Interference Pattern"}),Object(r.jsx)("mesh",{name:"PlaneMesh",castShadow:!0,receiveShadow:!0,geometry:d.PlaneMesh.geometry,children:t.selected.has("Michelson_cam")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#eeeeee",opacity:1})}),Object(r.jsx)("mesh",{name:"PlaneMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.PlaneMesh_1.geometry,material:j.BlackParts})]}),Object(r.jsxs)("group",{name:"Base",children:[t.showTags&&Object(r.jsx)(l,{position:[-.5,2,-.1],title:"Beam Splitter",description:"50/50 Beam Splitter"}),t.showTags&&Object(r.jsx)(l,{position:[.6,2,-.1],title:"Lens",description:"Lens for Beam Widening"}),Object(r.jsx)("mesh",{name:"BaseMesh",castShadow:!0,receiveShadow:!0,geometry:d.BaseMesh.geometry,material:j.BlackParts}),Object(r.jsx)("mesh",{name:"BaseMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.BaseMesh_1.geometry,material:j.ShinyParts})]}),Object(r.jsxs)("group",{name:"Laser",position:[1.56,.67,.14],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_laser")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.2,-.2],title:"Laser Alignment",description:"KM100 Double Rotary Control"}),Object(r.jsx)("mesh",{name:"LaserMesh",castShadow:!0,receiveShadow:!0,geometry:d.LaserMesh.geometry,material:j.BlackParts,children:t.selected.has("Michelson_laser")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})}),Object(r.jsx)("mesh",{name:"LaserMesh_1",castShadow:!0,receiveShadow:!0,geometry:d.LaserMesh_1.geometry,material:j.ShinyParts})]}),Object(r.jsxs)("mesh",{name:"SD5",castShadow:!0,receiveShadow:!0,geometry:d.SD5.geometry,material:j.BlackParts,position:[1.61,.25,-.9],onPointerDown:function(e){e.stopPropagation(),t.toggleSelect("Michelson_LaserPower")},children:[t.showTags&&Object(r.jsx)(l,{position:[0,1.3,0],title:"Power Supply",description:"5V Laser Power Supply"}),t.selected.has("Michelson_LaserPower")?Object(r.jsx)("meshStandardMaterial",{color:"#00ff00",transparent:!0,opacity:.7}):Object(r.jsx)("meshBasicMaterial",{color:"#222222",opacity:1})]}),t.showBeam&&Object(r.jsx)("mesh",{name:"LaserBeam",castShadow:!0,receiveShadow:!0,geometry:d.LaserBeam.geometry,material:j.Laser,position:[-.3,.66,-.15]})]})}))}a.a.preload("/model/MI_110422.glb");var j=n(509),u=n(510),b=n(27),m=n(30);t.a=function(){var e=Object(b.b)();return e.showVirtualLayer?Object(r.jsx)(m.a,{style:{position:"absolute",background:"linear-gradient(Teal, Black)",width:"100%",height:"100%"},colorManagement:!0,softShadows:!0,camera:{position:[0,3,5],fov:40},children:Object(r.jsxs)(c.Suspense,{fallback:null,children:[Object(r.jsx)(j.a,{files:"../hdri/autoshop.hdr"}),Object(r.jsx)(u.a,{autoRotate:e.autoRotate}),Object(r.jsx)(d,{toggleSelect:e.toggleSelectedComp,selected:e.selectedComps,showTags:e.showTags,showBeam:e.showBeam})]})}):Object(r.jsx)(r.Fragment,{})}},297:function(e,t,n){"use strict";n.r(t);n(1);var o=n(45),c=n.n(o),a=n(265),s=(n(435),n(2));c.a.render(Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(a.a,{})}),document.getElementById("root"))},318:function(e,t){},320:function(e,t){},334:function(e,t){},336:function(e,t){},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return b}));var o=n(8),c=n(25),a=n(1),s=n(446),i=n(445),r=n(281),l=n.n(r),d=n(2),j=Object(a.createContext)();function u(){return Object(a.useContext)(j)}function b(e){var t=e.children,n=Object(a.useState)(!1),r=Object(o.a)(n,2),u=r[0],b=r[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(a.useState)("info"),g=Object(o.a)(f,2),x=g[0],S=g[1];Object(c.b)().socket.on("error",(function(e){b(!0),p(e.errmsg),S("error")}));return Object(d.jsxs)(j.Provider,{value:{showPopUp:u,toggleShowPopUp:function(e,t){p(e),S(t),b(!u)}},children:[Object(d.jsx)(s.a,{open:u,autoHideDuration:2e3,onClose:function(e,t){"clickaway"!==t&&b(!1)},children:Object(d.jsx)("div",{className:l.a.popUp,children:Object(d.jsx)(i.a,{variant:"filled",severity:x,onClose:function(){b(!1)},children:O})})}),t]})}},364:function(e,t){},366:function(e,t){},367:function(e,t){},372:function(e,t){},374:function(e,t){},393:function(e,t){},405:function(e,t){},408:function(e,t){},435:function(e,t,n){},66:function(e,t,n){e.exports={Temp:"HeaterCtrl_Temp__8Du_1",Heater:"HeaterCtrl_Heater__fmsIn",Switch:"HeaterCtrl_Switch__3cXgO",Canvas1:"HeaterCtrl_Canvas1__HF34-",Canvas2:"HeaterCtrl_Canvas2__ZQFSu"}},85:function(e,t,n){e.exports={chatContainer:"Chat_chatContainer__26qIN",chatMain:"Chat_chatMain__1zSUi",msgForm:"Chat_msgForm__3zrhr",chatHandler:"Chat_chatHandler__2wAbt",openChat:"Chat_openChat__3kAnz",closeChat:"Chat_closeChat__a-LQe",buttonBlink:"Chat_buttonBlink__juA-h"}}},[[297,1,2]]]);
//# sourceMappingURL=main.3786869a.chunk.js.map